---
description: DescriÃ§Ã£o completa do projeto
globs: 
alwaysApply: false
---
As pÃ¡ginas deste projeto devem seguir a descriÃ§Ã£o fielmente abaixo:
PÃ¡gina 01 - Home
(CÃ³digo: #01)

Objetivo:
A pÃ¡gina inicial da plataforma Reduzo funcionarÃ¡ como um dashboard central para o usuÃ¡rio.
Deve reunir todos os indicadores-chave sobre o desempenho da operaÃ§Ã£o em tempo real.
O objetivo Ã© que o usuÃ¡rio tenha uma visÃ£o estratÃ©gica e operacional completa em um Ãºnico lugar, facilitando decisÃµes rÃ¡pidas e fundamentadas.
Tecnologias e DependÃªncias NecessÃ¡rias:
Next.js â€“ Para renderizaÃ§Ã£o SSR e SSG.
React Query â€“ Para busca e atualizaÃ§Ã£o de dados em tempo real.
Zustand â€“ Para gerenciamento de estado global (armazenamento local dos indicadores).
Tailwind CSS â€“ Para estilizaÃ§Ã£o rÃ¡pida e responsiva.
Shadcn UI â€“ Para construÃ§Ã£o de componentes como cards, botÃµes e modais.
Chart.js â€“ Para grÃ¡ficos dinÃ¢micos.
Radix UI â€“ Para acessibilidade e comportamentos avanÃ§ados (tooltips, popovers, etc.).
Zod â€“ Para validaÃ§Ã£o dos dados retornados pela API.
Framer Motion â€“ Para animaÃ§Ãµes suaves em transiÃ§Ãµes e efeitos visuais.
Componentes Visuais e Estrutura:
A pÃ¡gina deve ser construÃ­da em 3 colunas para melhor aproveitamento visual:

ðŸ”¹ Primeira Coluna: Resumo de Resultados (cards com dados numÃ©ricos)
Exibir os principais KPIâ€™s (Key Performance Indicators) em cards interativos:
Indicador	DescriÃ§Ã£o	Estilo	DependÃªncia
Faturamento DiÃ¡rio	Exibe o valor total vendido no dia atual.	Card verde, com Ã­cone de dinheiro	React Query + Zustand
Faturamento Semanal	Exibe o valor total vendido nos Ãºltimos 7 dias.	Card azul, com Ã­cone de calendÃ¡rio semanal	React Query + Zustand
Faturamento Mensal	Exibe o valor total vendido no mÃªs atual.	Card azul escuro, com Ã­cone de calendÃ¡rio mensal	React Query + Zustand
CMV Real (%)	Custo de Mercadoria Vendida real em relaÃ§Ã£o ao faturamento.	Card laranja, com Ã­cone de carrinho	React Query + Zustand
CMV TeÃ³rico (%)	CMV baseado no valor calculado com base nas fichas tÃ©cnicas.	Card roxo, com Ã­cone de lista	React Query + Zustand
DiferenÃ§a entre CMV Real e TeÃ³rico	Mostra a variaÃ§Ã£o entre o CMV real e o teÃ³rico.	Card vermelho, com Ã­cone de alerta	React Query + Zustand
Itens abaixo do estoque mÃ­nimo	NÃºmero de insumos com estoque inferior ao mÃ­nimo definido.	Card vermelho, com Ã­cone de triÃ¢ngulo de alerta	Zustand
Produtos mais vendidos	Lista dos 5 produtos mais vendidos (por faturamento).	Lista expansÃ­vel, com Ã­cone de seta	Zustand
Produtos com maior variaÃ§Ã£o de preÃ§o	Lista dos 5 insumos com maior variaÃ§Ã£o de preÃ§o entre as Ãºltimas compras.	Lista expansÃ­vel, com Ã­cone de seta	Zustand + Chart.js
Economia nas Ãºltimas cotaÃ§Ãµes	Exibe quanto o usuÃ¡rio economizou comparando os preÃ§os das cotaÃ§Ãµes mais baratas.	Card verde com Ã­cone de dinheiro economizado	Zustand + React Query
ðŸ”¹ Segunda Coluna: GrÃ¡ficos (em tempo real)
GrÃ¡fico de Faturamento (Linha):

Eixo X: Data (diÃ¡ria, semanal ou mensal)
Eixo Y: Valor de faturamento
AnimaÃ§Ã£o: Linha suave com efeito de fade ao carregar
Comportamento:
Hover â†’ Exibe valor detalhado
Tooltip â†’ Exibe data e valor especÃ­fico
Biblioteca: Chart.js
EstilizaÃ§Ã£o: Tailwind + Framer Motion
GrÃ¡fico de CMV Real vs CMV TeÃ³rico (Barra):

Eixo X: PerÃ­odo (semanal, mensal)
Eixo Y: % de CMV
Barra dupla:
Barra 1 â†’ CMV TeÃ³rico (cor azul)
Barra 2 â†’ CMV Real (cor laranja)
AnimaÃ§Ã£o: Altura da barra cresce com efeito elÃ¡stico
Biblioteca: Chart.js
GrÃ¡fico de VariaÃ§Ã£o de PreÃ§o (Linha):

Eixo X: Data
Eixo Y: Valor em R$
Linha 1: Menor preÃ§o cotado
Linha 2: PreÃ§o mÃ©dio
Linha 3: Maior preÃ§o cotado
AnimaÃ§Ã£o: Linha se movimenta suavemente com efeito de fade
Biblioteca: Chart.js
ðŸ”¹ Terceira Coluna: Alertas e Insights
Alertas:

Listados por ordem de prioridade (mais crÃ­tico primeiro)
Cada alerta Ã© um card com cor condicional:
Vermelho â†’ CrÃ­tico (exemplo: item fora de estoque)
Amarelo â†’ Aviso (exemplo: fornecedor nÃ£o respondeu Ã  cotaÃ§Ã£o)
Verde â†’ ConcluÃ­do (exemplo: fornecedor respondeu Ã  cotaÃ§Ã£o)
Exemplo de Alerta:

"O produto XYZ estÃ¡ abaixo do estoque mÃ­nimo."
Ao clicar â†’ Direciona para a pÃ¡gina de GestÃ£o de Estoque (PÃ¡gina #04)
Insights:

Lista de sugestÃµes de melhoria:
"Substitua o fornecedor do produto XYZ para economizar R$ 150 por mÃªs."
"O CMV teÃ³rico estÃ¡ abaixo do CMV real em 12%. Verifique possÃ­veis desperdÃ­cios."
Insights sÃ£o apresentados como cards clicÃ¡veis â†’ Ao clicar, abre um modal detalhado com justificativa.
ðŸ”¹ Modal de ConfiguraÃ§Ã£o de PerÃ­odo (opcional)
O usuÃ¡rio pode alterar o perÃ­odo exibido nos grÃ¡ficos e indicadores.
OpÃ§Ãµes:
DiÃ¡rio
Semanal
Mensal
Trimestral
Anual
âš™ï¸ Funcionalidade Adicional:
âœ… Autorefresh:

AtualizaÃ§Ã£o automÃ¡tica dos indicadores e grÃ¡ficos a cada 60 segundos.
Pode ser desativado pelo usuÃ¡rio (toggle switch no cabeÃ§alho).
âœ… Cache Inteligente:

Zustand armazena os dados localmente para evitar mÃºltiplas requisiÃ§Ãµes.
Dados em cache sÃ£o descartados apÃ³s 5 minutos sem atualizaÃ§Ã£o.
âœ… Responsividade Completa:

Design mobile-first â†’ Os grÃ¡ficos e cards devem se adaptar a qualquer resoluÃ§Ã£o.
Largura mÃ­nima â†’ 320px
Largura mÃ¡xima â†’ 1440px
ðŸ“ NavegaÃ§Ã£o e Comportamento:
Clique em um KPI â†’ Redireciona para a pÃ¡gina especÃ­fica do indicador.

Exemplo: Faturamento â†’ Redireciona para Registro de Vendas (PÃ¡gina #11)
CMV â†’ Redireciona para RelatÃ³rio de CMV (PÃ¡gina #12)
Estoque â†’ Redireciona para GestÃ£o de Estoque (PÃ¡gina #04)
Clique em um Insight â†’ Abre um modal detalhado com mais contexto.

PÃ¡gina 02 - Fornecedores
(CÃ³digo: #02)

Objetivo:
A pÃ¡gina de Fornecedores permitirÃ¡ o cadastro, ediÃ§Ã£o, exclusÃ£o e gerenciamento dos fornecedores cadastrados pelo usuÃ¡rio.
Ela tambÃ©m oferecerÃ¡ estatÃ­sticas detalhadas sobre o desempenho e histÃ³rico dos fornecedores, ajudando o usuÃ¡rio a identificar os melhores parceiros para otimizaÃ§Ã£o de custos.
A lÃ³gica condicional baseada no tipo de fornecedor deve ser clara e dinÃ¢mica, permitindo que campos especÃ­ficos apareÃ§am ou desapareÃ§am automaticamente dependendo do tipo selecionado.
A interface serÃ¡ otimizada para rapidez e facilidade na busca, com filtros avanÃ§ados para classificaÃ§Ã£o de fornecedores por diferentes critÃ©rios.
Tecnologias e DependÃªncias NecessÃ¡rias:
Next.js â€“ Para renderizaÃ§Ã£o SSR e otimizaÃ§Ã£o de desempenho.
React Query â€“ Para busca e atualizaÃ§Ã£o de dados em tempo real.
Zustand â€“ Para gerenciamento de estado e cache dos fornecedores.
Tailwind CSS â€“ Para estilizaÃ§Ã£o rÃ¡pida e responsiva.
Shadcn UI â€“ Para construÃ§Ã£o de modais, inputs, botÃµes e interaÃ§Ãµes.
Radix UI â€“ Para menus suspensos, popovers e seleÃ§Ã£o condicional de campos.
Framer Motion â€“ Para efeitos de transiÃ§Ã£o e animaÃ§Ã£o suave nos modais.
Zod â€“ Para validaÃ§Ã£o de formulÃ¡rios e dados retornados da API.
Lucide-react â€“ Para Ã­cones e indicadores visuais.
Componentes Visuais e Estrutura:
A pÃ¡gina serÃ¡ organizada em 3 seÃ§Ãµes principais:

ðŸ”¹ Primeira SeÃ§Ã£o: CabeÃ§alho da PÃ¡gina
TÃ­tulo â†’ "Fornecedores"
BotÃ£o + (Adicionar Fornecedor) â†’ Ao clicar, abre o Modal de Cadastro de Fornecedor.
Campo de Busca â†’ Filtro em tempo real com debounce (500ms).
BotÃ£o de Filtro AvanÃ§ado â†’ Permite filtrar por categoria, tipo de fornecedor e status de resposta.
ðŸ”¹ Segunda SeÃ§Ã£o: Lista de Fornecedores
Exibida em formato de tabela dinÃ¢mica com colunas:
Campo	DescriÃ§Ã£o	Comportamento
Nome da Empresa	Nome do fornecedor	ClicÃ¡vel â†’ Abre detalhes do fornecedor em um modal
Categoria	Categoria do fornecedor (ex: LaticÃ­nios, Carnes)	ClassificÃ¡vel por ordem alfabÃ©tica
Tipo	Fabricante, Distribuidor, Atacadista ou E-commerce	Exibe um badge colorido com o tipo
Pedido MÃ­nimo	Valor mÃ­nimo para compra (R$)	Mostrado em formato numÃ©rico e ordenÃ¡vel
Vendedor/Localidade/Site	Exibe o campo correspondente ao tipo de fornecedor selecionado	Varia conforme o tipo
Status	Mostra o desempenho do fornecedor com base na resposta Ã s cotaÃ§Ãµes	Verde (Excelente), Amarelo (RazoÃ¡vel), Vermelho (Ruim)
AÃ§Ãµes	Ãcones para editar e excluir o fornecedor	Abre um modal para ediÃ§Ã£o ou confirmaÃ§Ã£o de exclusÃ£o
ðŸ”¹ Terceira SeÃ§Ã£o: EstatÃ­sticas dos Fornecedores
âœ… EstatÃ­sticas serÃ£o exibidas em cards interativos que refletem o comportamento histÃ³rico dos fornecedores:

Total de Fornecedores: Exibe o nÃºmero total de fornecedores cadastrados.

Fornecedores Ativos: Exibe o nÃºmero de fornecedores que enviaram respostas nos Ãºltimos 30 dias.

Custo MÃ©dio por Fornecedor: Mostra o valor mÃ©dio gasto por fornecedor nos Ãºltimos 30 dias.

Taxa de Resposta:

Verde â†’ >90%
Amarelo â†’ Entre 50% e 90%
Vermelho â†’ <50%
Ranking de Resposta:

Melhores fornecedores: Lista com os 5 fornecedores com maior taxa de resposta.
Piores fornecedores: Lista com os 5 fornecedores com menor taxa de resposta.
GrÃ¡fico de DistribuiÃ§Ã£o de Compras por Fornecedor:

Exibe em formato de pizza a proporÃ§Ã£o de compras feitas com cada fornecedor.
Os fornecedores sÃ£o identificados por cor e nome.
Biblioteca: Chart.js
ðŸ” Filtros AvanÃ§ados:
âœ… Filtros que podem ser combinados para refinar a busca:

Nome da empresa (texto)
Categoria (dropdown)
Tipo (dropdown)
Pedido mÃ­nimo (ranger slider)
Status de resposta (dropdown com mÃºltiplas opÃ§Ãµes)
Modal de Cadastro de Fornecedor
ðŸ‘‰ Aberto ao clicar no botÃ£o + (Adicionar Fornecedor)

ðŸ”¸ Campos Gerais:
Campo	Tipo	ValidaÃ§Ã£o	Comportamento
Nome da Empresa	Texto	ObrigatÃ³rio	Nome deve ser Ãºnico
Categoria	Dropdown (Ex: Carnes, LaticÃ­nios)	ObrigatÃ³rio	SeleÃ§Ã£o dinÃ¢mica
Tipo	Dropdown (Fabricante, Distribuidor, Atacadista, E-commerce)	ObrigatÃ³rio	Altera dinamicamente os campos subsequentes
Pedido MÃ­nimo	NumÃ©rico	ObrigatÃ³rio	Valor deve ser â‰¥ 0
ðŸ”¸ LÃ³gica Condicional por Tipo:
âœ… Se Fabricante ou Distribuidor â†’ Exibe:

Nome do vendedor (texto) â†’ ObrigatÃ³rio
WhatsApp (nÃºmero com mÃ¡scara) â†’ ValidaÃ§Ã£o com Regex
âœ… Se Atacadista â†’ Exibe:

Bairro â†’ ObrigatÃ³rio
Cidade â†’ ObrigatÃ³rio
Estado â†’ ObrigatÃ³rio
âœ… Se E-commerce â†’ Exibe:

URL do site â†’ ValidaÃ§Ã£o com Regex (https://)
ðŸ”¸ Regras e RestriÃ§Ãµes:
Nome do fornecedor â†’ NÃ£o pode ter mais de 50 caracteres
WhatsApp â†’ Formato: (xx) xxxxx-xxxx
Site â†’ Deve comeÃ§ar com https://
Pedido mÃ­nimo â†’ Deve ser maior que zero
ðŸ”¸ AÃ§Ãµes do Modal:
Salvar e Fechar:

Salva os dados validados usando React Query e Zod.
Atualiza o cache automaticamente com Zustand.
Cancelar:

Fecha o modal sem salvar alteraÃ§Ãµes.
Excluir:

Exibe um alerta de confirmaÃ§Ã£o antes de excluir.
Remove o fornecedor da lista e do banco de dados.
ðŸ”¹ Modal de EdiÃ§Ã£o de Fornecedor
Os campos serÃ£o preenchidos automaticamente com os valores atuais.
Apenas campos que fazem sentido para o tipo de fornecedor serÃ£o exibidos.
Caso o tipo de fornecedor seja alterado, os campos anteriormente preenchidos relacionados ao tipo anterior serÃ£o descartados.
ðŸ”¨ Funcionalidade Adicional:
âœ… Debounce na Busca:

A busca serÃ¡ feita com um delay de 500ms para evitar sobrecarga na API.
âœ… Cache Local:

Zustand armazenarÃ¡ os dados localmente por 5 minutos para evitar mÃºltiplas requisiÃ§Ãµes.
âœ… OrdenaÃ§Ã£o Persistente:

A ordenaÃ§Ã£o escolhida pelo usuÃ¡rio serÃ¡ persistida no cache local.
âœ… Responsividade Completa:

Design mobile-first com comportamento adaptÃ¡vel para telas menores.
âœ… Acessibilidade Completa:

Labels e descriÃ§Ãµes compatÃ­veis com leitor de tela.
Focus automÃ¡tico ao abrir o modal.
NavegaÃ§Ã£o com teclado habilitada.
ðŸ“ NavegaÃ§Ã£o e Comportamento:
Clicando em um fornecedor â†’ Abre o modal de ediÃ§Ã£o.
Excluindo um fornecedor â†’ Remove da lista imediatamente.
BotÃ£o para adicionar fornecedor â†’ Abre o modal de cadastro.
Taxa de resposta â†’ Redireciona para o relatÃ³rio detalhado do fornecedor.
âœ… ConclusÃ£o:
âœ… A pÃ¡gina deve ser rÃ¡pida, dinÃ¢mica e interativa.
âœ… Todos os componentes devem ser modularizados e reutilizÃ¡veis.
âœ… IntegraÃ§Ã£o perfeita com a pÃ¡gina Insumos (#03).

PÃ¡gina 03 - Insumos
(CÃ³digo: #03)

Objetivo:
A pÃ¡gina de Insumos permitirÃ¡ que o usuÃ¡rio cadastre, edite, exclua e gerencie insumos (ingredientes e produtos utilizados na produÃ§Ã£o).
Cada insumo estarÃ¡ diretamente relacionado aos fornecedores cadastrados na pÃ¡gina Fornecedores (#02).
A lÃ³gica de homologaÃ§Ã£o, cÃ³digo de barras, estoque mÃ­nimo e estoque atual deve ser clara e dinÃ¢mica.
A interface permitirÃ¡ uma visÃ£o geral e detalhada de cada insumo, com estatÃ­sticas de estoque, movimentaÃ§Ã£o e relaÃ§Ã£o com fichas tÃ©cnicas.
Tecnologias e DependÃªncias NecessÃ¡rias:
âœ… Next.js â€“ Para renderizaÃ§Ã£o SSR e otimizaÃ§Ã£o de desempenho.
âœ… React Query â€“ Para busca e atualizaÃ§Ã£o de dados em tempo real.
âœ… Zustand â€“ Para gerenciamento de estado e cache dos insumos.
âœ… Tailwind CSS â€“ Para estilizaÃ§Ã£o rÃ¡pida e responsiva.
âœ… Shadcn UI â€“ Para construÃ§Ã£o de componentes como modais, inputs, botÃµes e listas.
âœ… Framer Motion â€“ Para animaÃ§Ã£o suave em transiÃ§Ãµes e estados.
âœ… Radix UI â€“ Para menus suspensos, seleÃ§Ãµes e popovers.
âœ… Zod â€“ Para validaÃ§Ã£o dos dados de entrada e resposta da API.
âœ… Lucide-react â€“ Para Ã­cones e elementos visuais.
âœ… React Barcode Scanner â€“ Para leitura de cÃ³digo de barras via cÃ¢mera (ou input manual).

Componentes Visuais e Estrutura:
A pÃ¡gina serÃ¡ organizada em 4 seÃ§Ãµes principais:

ðŸ”¹ Primeira SeÃ§Ã£o: CabeÃ§alho da PÃ¡gina
TÃ­tulo: "Insumos"
BotÃ£o "+ Novo Insumo":
Ao clicar, abre o Modal de Cadastro de Insumo.
Campo de Busca:
Permite buscar o nome ou cÃ³digo de barras do insumo.
Busca em tempo real com debounce de 500ms.
BotÃ£o de Filtros:
Filtro por:
Nome
Categoria
Fornecedor
Status de homologaÃ§Ã£o
Estoque (mÃ­nimo, disponÃ­vel)
ðŸ”¹ Segunda SeÃ§Ã£o: Lista de Insumos
A lista de insumos serÃ¡ exibida em formato de tabela dinÃ¢mica.

Campo	DescriÃ§Ã£o	Comportamento
CÃ³digo de Barras	Exibe o cÃ³digo de barras em formato de texto	Pode ser clicado â†’ Copiar cÃ³digo
Nome do Produto	Nome do insumo cadastrado	ClicÃ¡vel â†’ Abre modal de ediÃ§Ã£o
Categoria	Categoria atribuÃ­da ao insumo	Dropdown com opÃ§Ã£o de ordenaÃ§Ã£o
Unidade de Medida	Un, Kg, L	Fixo â†’ NÃ£o pode ser editado diretamente
Estoque Atual	Quantidade disponÃ­vel no estoque	Exibe quantidade + indicador de nÃ­vel
Estoque MÃ­nimo	Quantidade mÃ­nima definida	Exibe quantidade + alerta se abaixo do mÃ­nimo
Fornecedor	Nome do fornecedor associado ao insumo	Exibe em formato de badge
Homologado	Sim ou NÃ£o	Exibe com um Ã­cone de cadeado
AÃ§Ãµes	Ãcones para editar ou excluir	Abre modal de ediÃ§Ã£o ou confirmaÃ§Ã£o de exclusÃ£o
âœ… Indicador Visual de Estoque:

Verde â†’ Estoque acima do mÃ­nimo
Amarelo â†’ Estoque prÃ³ximo ao limite mÃ­nimo
Vermelho â†’ Estoque abaixo do limite mÃ­nimo
âœ… Badges de HomologaÃ§Ã£o:

Verde â†’ Homologado
Cinza â†’ NÃ£o homologado
âœ… Tabela com Rolagem Lateral:

Para dispositivos mÃ³veis â†’ A tabela deve permitir rolagem horizontal.
Coluna de "AÃ§Ãµes" fica sempre visÃ­vel ao rolar.
ðŸ”¹ Terceira SeÃ§Ã£o: EstatÃ­sticas de Insumos
âœ… EstatÃ­sticas detalhadas para anÃ¡lise rÃ¡pida:

Total de Insumos Cadastrados â†’ NÃºmero total de insumos cadastrados.
Insumos Homologados â†’ NÃºmero de insumos homologados.
Insumos em Estoque â†’ NÃºmero de insumos com quantidade superior ao mÃ­nimo.
Insumos com Estoque Baixo â†’ NÃºmero de insumos abaixo do estoque mÃ­nimo.
Itens Sem Movimento â†’ NÃºmero de itens sem movimentaÃ§Ã£o hÃ¡ mais de 30 dias.
Insumos por Categoria â†’ GrÃ¡fico de pizza mostrando a distribuiÃ§Ã£o por categoria.
Itens Mais Utilizados em Fichas TÃ©cnicas â†’ Lista com os 5 itens mais utilizados em fichas tÃ©cnicas.
ðŸ”¹ Quarta SeÃ§Ã£o: Alertas de Insumos
Alerta de Estoque Insuficiente:

Exibe lista de insumos abaixo do estoque mÃ­nimo.
BotÃ£o direto para "Adicionar Estoque".
Alerta de Falta de Fornecedor:

Exibe lista de insumos sem fornecedor associado.
BotÃ£o para abrir o modal de ediÃ§Ã£o e associar fornecedor.
ðŸ“‹ Modal de Cadastro de Insumo
ðŸ‘‰ Aberto ao clicar no botÃ£o "+ Novo Insumo"

ðŸ”¸ Campos Gerais:
Campo	Tipo	ValidaÃ§Ã£o	Comportamento
CÃ³digo de Barras	Input numÃ©rico ou via cÃ¢mera (leitura automÃ¡tica)	ObrigatÃ³rio	Aceita cÃ³digo manual ou por leitor de cÃ³digo de barras
Nome do Produto	Texto	ObrigatÃ³rio	Nome deve ser Ãºnico
Categoria	Dropdown (Carnes, LaticÃ­nios, Hortifruti, etc.)	ObrigatÃ³rio	Atualiza dinamicamente a lista de fornecedores disponÃ­veis
Unidade de Medida	Dropdown (Un, Kg, L)	ObrigatÃ³rio	Fixado apÃ³s cadastro
Estoque Atual	NumÃ©rico	Opcional	0 ou maior
Estoque MÃ­nimo	NumÃ©rico	ObrigatÃ³rio	Valor â‰¥ 0
Produto Homologado	Toggle (Sim/NÃ£o)	ObrigatÃ³rio	Se SIM, fornecedor serÃ¡ limitado a um Ãºnico
Fornecedor	Dropdown dinÃ¢mico (busca dos fornecedores cadastrados)	ObrigatÃ³rio se homologado	Exibe lista de fornecedores cadastrados
ðŸ”¸ LÃ³gica de HomologaÃ§Ã£o:
âœ… Se homologado â†’ Apenas um fornecedor pode ser selecionado.
âœ… Se NÃƒO homologado â†’ Permite mÃºltiplos fornecedores.
âœ… Se o fornecedor selecionado for excluÃ­do â†’ Aparece um alerta para o usuÃ¡rio associar um novo fornecedor.

ðŸ”¸ CÃ³digo de Barras:
âœ… OpÃ§Ã£o 1 â†’ DigitaÃ§Ã£o manual
âœ… OpÃ§Ã£o 2 â†’ Leitor de cÃ³digo de barras (via cÃ¢mera):

Abertura automÃ¡tica do modal de cÃ¢mera.
Leitura automÃ¡tica e preenchimento do campo.
Reconhecimento pelo React Barcode Scanner.
ðŸ”¸ ValidaÃ§Ã£o de Campos:
Nome do produto â†’ MÃ¡ximo 100 caracteres
CÃ³digo de barras â†’ Formato numÃ©rico (sem espaÃ§os ou letras)
Estoque mÃ­nimo â†’ NÃ£o pode ser negativo
CÃ³digo de barras â†’ NÃ£o pode ser duplicado
ðŸ”¸ AÃ§Ãµes do Modal:
âœ… Salvar e Fechar â†’ Salva os dados e fecha o modal.
âœ… Cancelar â†’ Fecha o modal sem salvar alteraÃ§Ãµes.
âœ… Excluir â†’ Abre um modal de confirmaÃ§Ã£o.

ðŸ”¨ Funcionalidade Adicional:
âœ… Busca com Debounce:

Delay de 500ms para evitar sobrecarga.
âœ… Cache Local:

Os insumos serÃ£o armazenados em cache local usando Zustand.
Cache serÃ¡ atualizado automaticamente a cada 5 minutos.
âœ… OrdenaÃ§Ã£o Persistente:

OrdenaÃ§Ã£o escolhida serÃ¡ armazenada localmente.
âœ… Responsividade Completa:

Design mobile-first â†’ Layout adaptÃ¡vel para qualquer tela.
âœ… Acessibilidade Completa:

Labels e textos alternativos configurados.
Foco automÃ¡tico nos campos.
ðŸ“ NavegaÃ§Ã£o e Comportamento:
Clique em um insumo â†’ Abre o modal de ediÃ§Ã£o.
Excluir um insumo â†’ Remove da lista imediatamente.
AlteraÃ§Ã£o de fornecedor â†’ Atualiza dinamicamente o valor do estoque.
âœ… ConclusÃ£o:
âœ… A pÃ¡gina de insumos serÃ¡ rÃ¡pida, clara e funcional.
âœ… Interface adaptÃ¡vel e lÃ³gica condicional robusta.
âœ… Perfeitamente integrada com a pÃ¡gina Fornecedores (#02).

PÃ¡gina 04 - GestÃ£o de Estoque
(CÃ³digo: #04)

Objetivo:
A pÃ¡gina de GestÃ£o de Estoque permitirÃ¡ ao usuÃ¡rio monitorar, organizar e registrar todas as movimentaÃ§Ãµes de insumos cadastrados na pÃ¡gina Insumos (#03).
Deve permitir o controle total sobre o estoque, incluindo:
Registro de entradas e saÃ­das de insumos (manual e automÃ¡tica).
OrganizaÃ§Ã£o do estoque em diferentes categorias (fixo, flutuante e intermediÃ¡rio).
ComparaÃ§Ã£o entre estoque real e contagem manual para detectar inconsistÃªncias.
GeraÃ§Ã£o automÃ¡tica de ordens de cotaÃ§Ã£o e listas de compras com base nos nÃ­veis de estoque e no tipo de fornecedor.
IdentificaÃ§Ã£o de desperdÃ­cios, ajustes manuais e desvios no CMV.
Tecnologias e DependÃªncias NecessÃ¡rias:
âœ… Next.js â€“ Para renderizaÃ§Ã£o SSR e otimizaÃ§Ã£o de desempenho.
âœ… React Query â€“ Para busca e atualizaÃ§Ã£o de dados em tempo real.
âœ… Zustand â€“ Para gerenciamento de estado e cache dos insumos.
âœ… Tailwind CSS â€“ Para estilizaÃ§Ã£o rÃ¡pida e responsiva.
âœ… Shadcn UI â€“ Para construÃ§Ã£o de componentes como modais, inputs, botÃµes e tabelas.
âœ… Framer Motion â€“ Para efeitos de transiÃ§Ã£o e animaÃ§Ã£o.
âœ… Radix UI â€“ Para popovers, dropdowns e seleÃ§Ã£o de opÃ§Ãµes.
âœ… Zod â€“ Para validaÃ§Ã£o dos dados de entrada e resposta da API.
âœ… Lucide-react â€“ Para Ã­cones e indicadores visuais.
âœ… Chart.js â€“ Para exibiÃ§Ã£o de grÃ¡ficos de movimentaÃ§Ã£o e consumo.
âœ… Day.js â€“ Para manipulaÃ§Ã£o de datas e horÃ¡rios.

Componentes Visuais e Estrutura:
A pÃ¡gina serÃ¡ organizada em 4 seÃ§Ãµes principais:

ðŸ”¹ Primeira SeÃ§Ã£o: CabeÃ§alho da PÃ¡gina
TÃ­tulo: "GestÃ£o de Estoque"
Campo de Busca:
Permite buscar pelo nome ou cÃ³digo de barras do insumo.
Busca em tempo real com debounce de 500ms.
BotÃ£o "Registrar Entrada/SaÃ­da":
Abre o Modal de Registro de MovimentaÃ§Ã£o.
BotÃ£o "Registrar DesperdÃ­cio":
Abre o Modal de Registro de DesperdÃ­cio.
BotÃ£o "Contagem de Estoque":
Abre o Modal de Contagem Manual.
ðŸ”¹ Segunda SeÃ§Ã£o: Lista de Insumos em Estoque
âœ… Exibida em formato de tabela dinÃ¢mica:

Campo	DescriÃ§Ã£o	Comportamento
CÃ³digo	CÃ³digo Ãºnico do insumo	ClicÃ¡vel â†’ Abre detalhes completos
Item	Nome do insumo	ClicÃ¡vel â†’ Abre modal de ediÃ§Ã£o
Categoria	Categoria atribuÃ­da ao insumo	OrdenÃ¡vel (A-Z ou Z-A)
Quantidade	Estoque atual	Verde â†’ Acima do mÃ­nimo
Amarelo â†’ PrÃ³ximo ao mÃ­nimo
Vermelho â†’ Abaixo do mÃ­nimo
MÃ­nimo	Estoque mÃ­nimo definido	OrdenÃ¡vel (crescente/decrescente)
PreÃ§o por Unidade	PreÃ§o mÃ©dio por unidade com base nas Ãºltimas compras	Formatado em R$
Status	Estado do insumo com base na quantidade	DisponÃ­vel, Insuficiente, CrÃ­tico
MovimentaÃ§Ãµes	HistÃ³rico de movimentaÃ§Ãµes	Abre um popover com detalhes completos
âœ… OrganizaÃ§Ã£o por Tipo de Estoque:
A tabela serÃ¡ organizada em 3 abas:

Estoque Fixo â†’ Produtos com movimentaÃ§Ã£o regular e com estoque mÃ­nimo definido.
Estoque Flutuante â†’ Produtos com movimentaÃ§Ã£o irregular ou entrada manual.
Estoque de Produtos IntermediÃ¡rios â†’ Produtos criados a partir de fichas tÃ©cnicas.
âœ… Ãcone de Status:

Verde â†’ DisponÃ­vel
Amarelo â†’ PrÃ³ximo ao limite mÃ­nimo
Vermelho â†’ Abaixo do limite mÃ­nimo
âœ… Popovers de MovimentaÃ§Ã£o:

Ao clicar na coluna "MovimentaÃ§Ãµes" â†’ Exibe um popover com:
Data
Tipo (entrada, saÃ­da ou desperdÃ­cio)
Quantidade
Valor unitÃ¡rio
Origem (pedido, venda, ajuste manual)
ðŸ”¹ Terceira SeÃ§Ã£o: EstatÃ­sticas de Estoque
âœ… EstatÃ­sticas em tempo real, exibidas em cards e grÃ¡ficos:

Valor Total em Estoque: Soma do valor de todos os insumos em estoque.
Quantidade Total de Insumos: NÃºmero total de insumos em estoque.
Insumos abaixo do estoque mÃ­nimo: NÃºmero de insumos com nÃ­vel crÃ­tico de estoque.
Produtos com maior giro: Lista com os 5 produtos mais utilizados em preparaÃ§Ãµes ou vendas.
DesperdÃ­cio Acumulado: Soma das perdas registradas.
GrÃ¡fico de MovimentaÃ§Ã£o:
Tipo de grÃ¡fico â†’ Barras empilhadas
Eixo X â†’ PerÃ­odo (semanal, mensal, anual)
Eixo Y â†’ Quantidade movimentada
Barra 1 â†’ Entradas
Barra 2 â†’ SaÃ­das
Barra 3 â†’ DesperdÃ­cio
ðŸ”¹ Quarta SeÃ§Ã£o: BotÃ£o "Enviar para CotaÃ§Ã£o"
ðŸ‘‰ Base de todo o sistema de cotaÃ§Ã£o

âœ… Quando o usuÃ¡rio clica em "Enviar para CotaÃ§Ã£o":

O sistema verifica:
Se o fornecedor Ã© Distribuidor ou Fabricante â†’ Vai para Ordem de CotaÃ§Ã£o (#05)
Se o fornecedor Ã© Atacadista â†’ Vai para Lista de Compras (#06)
Se o fornecedor Ã© E-commerce â†’ Vai para CotaÃ§Ã£o Manual em Ordem de CotaÃ§Ã£o (#05)
Se o item for homologado:
O sistema permite apenas o fornecedor homologado.
Vai para Ordem de Compra (#08) diretamente.
Se o item NÃƒO for homologado:
O sistema permite mÃºltiplos fornecedores para cotaÃ§Ã£o.
ðŸ“‹ Modal de Registro de Entrada/SaÃ­da
âœ… Passo 1: Selecionar data e insumo
âœ… Passo 2: Tipo de movimentaÃ§Ã£o (entrada ou saÃ­da)
âœ… Passo 3: Quantidade e valor unitÃ¡rio

ðŸ“‹ Modal de Contagem de Estoque
âœ… Inserir quantidade real de cada item
âœ… Definir frequÃªncia de contagem
âœ… Sistema compara valor registrado com valor contado

ðŸ“‹ Modal de Registro de DesperdÃ­cio
âœ… Selecionar produto
âœ… Inserir quantidade desperdiÃ§ada
âœ… Justificativa

ðŸ“ NavegaÃ§Ã£o e Comportamento:
âœ… Clicar em um item â†’ Abre modal de ediÃ§Ã£o
âœ… Excluir movimentaÃ§Ã£o â†’ Remove da lista
âœ… Adicionar entrada manual â†’ Atualiza lista automaticamente
âœ… Enviar para cotaÃ§Ã£o â†’ Redireciona para Ordem de CotaÃ§Ã£o (#05) ou Lista de Compras (#06)

âœ… ConclusÃ£o:
âœ… A pÃ¡gina de GestÃ£o de Estoque se conecta diretamente com as pÃ¡ginas de Ordem de CotaÃ§Ã£o (#05) e Lista de Compras (#06).
âœ… Os itens vÃ£o para cotaÃ§Ã£o ou compra com base no tipo de fornecedor e na homologaÃ§Ã£o.

PÃ¡gina 05 - Ordem de CotaÃ§Ã£o
(CÃ³digo: #05)

Objetivo:
A pÃ¡gina de Ordem de CotaÃ§Ã£o permitirÃ¡ ao usuÃ¡rio gerar, editar, monitorar e enviar cotaÃ§Ãµes para os fornecedores cadastrados na pÃ¡gina Fornecedores (#02).

O sistema deve receber automaticamente os itens abaixo do estoque mÃ­nimo da pÃ¡gina GestÃ£o de Estoque (#04) e organizar as cotaÃ§Ãµes com base no tipo de fornecedor e no status de homologaÃ§Ã£o dos itens:

Distribuidor ou Fabricante â†’ CotaÃ§Ã£o AutomÃ¡tica
E-commerce â†’ CotaÃ§Ã£o Manual
Atacadista â†’ Os itens vÃ£o para a Lista de Compras (#06)
Homologado â†’ Vai direto para a Ordem de Compra (#08)
A pÃ¡gina tambÃ©m permitirÃ¡ que o usuÃ¡rio configure prazos para resposta, envie cotaÃ§Ãµes automaticamente via WhatsApp Web e registre respostas manuais para fornecedores de e-commerce.

Tecnologias e DependÃªncias NecessÃ¡rias:
âœ… Next.js â€“ Para renderizaÃ§Ã£o SSR e otimizaÃ§Ã£o de desempenho.
âœ… React Query â€“ Para busca e atualizaÃ§Ã£o de dados em tempo real.
âœ… Zustand â€“ Para gerenciamento de estado e cache das cotaÃ§Ãµes.
âœ… Tailwind CSS â€“ Para estilizaÃ§Ã£o rÃ¡pida e responsiva.
âœ… Shadcn UI â€“ Para construÃ§Ã£o de componentes como cards, modais, inputs e botÃµes.
âœ… Framer Motion â€“ Para efeitos de transiÃ§Ã£o e animaÃ§Ã£o.
âœ… Radix UI â€“ Para popovers, dropdowns e seleÃ§Ã£o de status.
âœ… Zod â€“ Para validaÃ§Ã£o dos dados de entrada e resposta da API.
âœ… Lucide-react â€“ Para Ã­cones e indicadores visuais.
âœ… Day.js â€“ Para manipulaÃ§Ã£o de datas e horÃ¡rios.
âœ… WhatsApp API (Web) â€“ Para disparo automÃ¡tico de mensagens para fornecedores.

Fluxo LÃ³gico dos Itens Recebidos do Estoque:
âœ… Quando o usuÃ¡rio clica em "Enviar para CotaÃ§Ã£o" na pÃ¡gina de Estoque:

O sistema verifica o tipo de fornecedor:
Distribuidor ou Fabricante â†’ CotaÃ§Ã£o AutomÃ¡tica
Atacadista â†’ Vai para Lista de Compras (#06)
E-commerce â†’ CotaÃ§Ã£o Manual
Se o item for homologado:
Vai diretamente para Ordem de Compra (#08).
Apenas o fornecedor homologado serÃ¡ permitido na cotaÃ§Ã£o.
Se o item NÃƒO for homologado:
O sistema permite mÃºltiplos fornecedores na cotaÃ§Ã£o.
Os preÃ§os recebidos serÃ£o exibidos na Planilha de CotaÃ§Ã£o (#07).
Componentes Visuais e Estrutura:
A pÃ¡gina serÃ¡ organizada em 3 seÃ§Ãµes principais:

ðŸ”¹ Primeira SeÃ§Ã£o: CabeÃ§alho da PÃ¡gina
TÃ­tulo: "Ordem de CotaÃ§Ã£o"
Campo de Busca:
Permite buscar pelo nome do fornecedor ou cÃ³digo da cotaÃ§Ã£o.
Busca em tempo real com debounce de 500ms.
BotÃ£o "Nova CotaÃ§Ã£o":
Abre o Modal de CriaÃ§Ã£o de CotaÃ§Ã£o para gerar cotaÃ§Ãµes manualmente.
Dropdown de Filtros:
Filtro por:
Nome do fornecedor
Categoria
Tipo de fornecedor
Status da cotaÃ§Ã£o (Em aberto, Respondida, NÃ£o Respondida)
ðŸ”¹ Segunda SeÃ§Ã£o: Lista de CotaÃ§Ãµes
âœ… Exibida em formato de cards â†’ Cards sÃ£o organizados por status:

Em Aberto â†’ Fundo amarelo
Respondida â†’ Fundo verde
NÃ£o Respondida â†’ Fundo vermelho
âœ… Cada card deve conter:

Campo	DescriÃ§Ã£o	Comportamento
CÃ³digo da CotaÃ§Ã£o	CÃ³digo Ãºnico para rastreio	ClicÃ¡vel â†’ Abre detalhes completos
Data de EmissÃ£o	Data e hora de geraÃ§Ã£o da cotaÃ§Ã£o	Formatada por Day.js
Fornecedor	Nome do fornecedor associado	ClicÃ¡vel â†’ Abre detalhes do fornecedor
Prazo de Resposta	Tempo restante para o fornecedor responder	Exibe em formato de contagem regressiva
Quantidade de Itens	NÃºmero de itens solicitados na cotaÃ§Ã£o	Exibe nÃºmero total
Total Estimado	Valor total estimado (baseado no preÃ§o mÃ©dio dos itens)	Formatado em R$
AÃ§Ãµes	Ãcones de ediÃ§Ã£o, exclusÃ£o ou envio da cotaÃ§Ã£o	Abre menu de aÃ§Ãµes rÃ¡pidas
âœ… OrganizaÃ§Ã£o por Abas:

CotaÃ§Ã£o AutomÃ¡tica â†’ Para fornecedores Distribuidor ou Fabricante
CotaÃ§Ã£o Manual â†’ Para fornecedores E-commerce
âœ… Comportamento de Status:

CotaÃ§Ã£o em Aberto â†’ Exibe em amarelo â†’ Permite ediÃ§Ã£o e envio.
CotaÃ§Ã£o Respondida â†’ Exibe em verde â†’ Permite visualizar resposta.
CotaÃ§Ã£o NÃ£o Respondida â†’ Exibe em vermelho â†’ Permite reenvio.
âœ… BotÃ£o Flutuante de AÃ§Ã£o:

Editar â†’ Abre modal para editar a cotaÃ§Ã£o.
Excluir â†’ Abre confirmaÃ§Ã£o para exclusÃ£o.
Enviar (WhatsApp ou Manual) â†’ Direciona para envio da cotaÃ§Ã£o.
ðŸ”¹ Terceira SeÃ§Ã£o: EstatÃ­sticas de CotaÃ§Ãµes
âœ… EstatÃ­sticas detalhadas para anÃ¡lise rÃ¡pida:

Total de CotaÃ§Ãµes Emitidas â†’ Soma de todas as cotaÃ§Ãµes enviadas.
Taxa de Resposta de Fornecedores:
Verde â†’ >90%
Amarelo â†’ Entre 50% e 90%
Vermelho â†’ <50%
Melhor PreÃ§o Encontrado:
Exibe o menor preÃ§o entre todas as respostas.
Fornecedores Mais RÃ¡pidos:
Lista com os 5 fornecedores que responderam mais rÃ¡pido.
Fornecedores com Melhor Desempenho:
Baseado na frequÃªncia de respostas e preÃ§os oferecidos.
ðŸ“‹ Modal de CriaÃ§Ã£o de CotaÃ§Ã£o
ðŸ‘‰ Aberto ao clicar em "Nova CotaÃ§Ã£o"

ðŸ”¸ Campos Gerais:
Campo	Tipo	ValidaÃ§Ã£o	Comportamento
Nome da CotaÃ§Ã£o	Texto	ObrigatÃ³rio	Nome Ãºnico
Fornecedor	Dropdown dinÃ¢mico	ObrigatÃ³rio	Baseado nos fornecedores cadastrados
Prazo de Resposta	Dropdown (2h, 6h, 12h, 24h, 48h, 72h)	ObrigatÃ³rio	Define prazo para resposta
Itens da CotaÃ§Ã£o	SeleÃ§Ã£o mÃºltipla	ObrigatÃ³rio	Busca em tempo real pelo nome do insumo
Quantidade	NumÃ©rico	ObrigatÃ³rio	Quantidade â‰¥ 1
PreÃ§o Estimado	NumÃ©rico	ObrigatÃ³rio	Preenchido automaticamente com base no preÃ§o mÃ©dio de compra
ObservaÃ§Ã£o	Texto	Opcional	Limite de 500 caracteres
ðŸ“‹ Modal de Envio de CotaÃ§Ã£o (WhatsApp)
ðŸ‘‰ Aberto ao clicar no botÃ£o "Enviar CotaÃ§Ã£o"

âœ… Exibe mensagem:

plaintext
Copiar
Editar
OlÃ¡, (Nome do Vendedor)!
Segue o link para cotaÃ§Ã£o dos itens que preciso para esta semana:
(Link para FormulÃ¡rio)
Aguardo seu retorno o mais breve possÃ­vel.
Obrigado!
âœ… AÃ§Ãµes:

Confirmar e Enviar â†’ Direciona para WhatsApp Web
Cancelar â†’ Fecha o modal
ðŸ“ NavegaÃ§Ã£o e Comportamento:
âœ… Clique em uma cotaÃ§Ã£o â†’ Abre detalhes da cotaÃ§Ã£o.
âœ… Excluir cotaÃ§Ã£o â†’ Remove da lista e banco de dados.
âœ… CotaÃ§Ã£o respondida â†’ Atualiza preÃ§o automaticamente na pÃ¡gina Planilha de CotaÃ§Ã£o (#07).

âœ… ConclusÃ£o:
âœ… O sistema irÃ¡ verificar dinamicamente o tipo de fornecedor e o status de homologaÃ§Ã£o.
âœ… CotaÃ§Ãµes serÃ£o enviadas para WhatsApp ou geradas manualmente com base no tipo de fornecedor.
âœ… Respostas serÃ£o automaticamente integradas Ã  Planilha de CotaÃ§Ã£o (#07).

FormulÃ¡rio de CotaÃ§Ã£o (CÃ³digo: #05'1)
Objetivo:
O formulÃ¡rio de cotaÃ§Ã£o serÃ¡ gerado automaticamente pelo sistema apÃ³s a criaÃ§Ã£o da cotaÃ§Ã£o na pÃ¡gina Ordem de CotaÃ§Ã£o (#05).
Ele serÃ¡ enviado para os fornecedores atravÃ©s de um link direto incluÃ­do na mensagem do WhatsApp ou disponibilizado para preenchimento manual em caso de cotaÃ§Ã£o com e-commerce.
O formulÃ¡rio permitirÃ¡ que o fornecedor insira os preÃ§os, ajuste as quantidades disponÃ­veis, faÃ§a observaÃ§Ãµes e submeta a cotaÃ§Ã£o.
ApÃ³s o envio, o sistema sincronizarÃ¡ automaticamente os dados com a pÃ¡gina de Ordem de CotaÃ§Ã£o (#05) e com a Planilha de CotaÃ§Ã£o (#07).
Tecnologias e DependÃªncias NecessÃ¡rias:
âœ… Next.js â€“ Para renderizaÃ§Ã£o SSR do formulÃ¡rio.
âœ… React Query â€“ Para atualizaÃ§Ã£o em tempo real dos dados apÃ³s envio.
âœ… Zod â€“ Para validaÃ§Ã£o de entrada e resposta dos dados.
âœ… Radix UI â€“ Para construÃ§Ã£o de inputs, dropdowns e botÃµes.
âœ… Shadcn UI â€“ Para modais, mensagens de confirmaÃ§Ã£o e toasts.
âœ… Framer Motion â€“ Para efeitos de transiÃ§Ã£o e animaÃ§Ã£o.
âœ… Tailwind CSS â€“ Para estilizaÃ§Ã£o responsiva.
âœ… Lucide-react â€“ Para Ã­cones e elementos visuais.
âœ… Day.js â€“ Para manipulaÃ§Ã£o de datas e prazos.
âœ… WhatsApp API (Web) â€“ Para gerar o link e enviar mensagem automaticamente.

ðŸ’¡ Como o FormulÃ¡rio Ã© Gerado:
O sistema gera um link Ãºnico para cada cotaÃ§Ã£o criada na pÃ¡gina Ordem de CotaÃ§Ã£o (#05).
Esse link Ã© incluÃ­do automaticamente na mensagem gerada para o fornecedor no WhatsApp:
plaintext
Copiar
Editar
OlÃ¡, (Nome do Vendedor)!
Segue o link para cotaÃ§Ã£o dos itens que preciso para esta semana:
(Link para FormulÃ¡rio)
Aguardo seu retorno o mais breve possÃ­vel.
Obrigado!
O link serÃ¡ no formato:
ðŸ‘‰ https://red.uzo.com/cotacao/ID_DA_COTACAO
O ID da cotaÃ§Ã£o serÃ¡ um cÃ³digo Ãºnico gerado automaticamente pelo sistema.
O link permanecerÃ¡ vÃ¡lido atÃ© o prazo de resposta definido na cotaÃ§Ã£o.
ApÃ³s o prazo expirar â†’ O link ficarÃ¡ indisponÃ­vel e o status serÃ¡ marcado como "NÃ£o Respondido".
ðŸ“‹ Estrutura do FormulÃ¡rio
âœ… O formulÃ¡rio serÃ¡ exibido como uma pÃ¡gina independente com URL Ãºnica.
âœ… Deve ser responsivo e acessÃ­vel em dispositivos mÃ³veis e desktop.
âœ… Estrutura organizada em 3 seÃ§Ãµes para facilitar o preenchimento pelo fornecedor:

ðŸ”¹ Primeira SeÃ§Ã£o: CabeÃ§alho do FormulÃ¡rio
Logotipo da Empresa:

No topo do formulÃ¡rio â†’ Carregado automaticamente do cadastro da empresa.
TÃ­tulo:

Exibe "CotaÃ§Ã£o de Insumos para [Nome da Empresa do Cliente]"
Exemplo: "CotaÃ§Ã£o de Insumos para Restaurante SÃ£o JosÃ©"
InformaÃ§Ãµes da CotaÃ§Ã£o:

CÃ³digo da cotaÃ§Ã£o
Nome da cotaÃ§Ã£o
Data de emissÃ£o
Prazo de resposta â†’ Mostrado como uma contagem regressiva dinÃ¢mica
InformaÃ§Ãµes do Fornecedor:

Nome do fornecedor (carregado automaticamente com base no ID da cotaÃ§Ã£o)
Nome do vendedor (se disponÃ­vel)
WhatsApp ou telefone (se disponÃ­vel)
ðŸ”¹ Segunda SeÃ§Ã£o: Tabela de Itens para CotaÃ§Ã£o
âœ… A tabela de itens deve conter os seguintes campos:

Campo	Tipo de Input	ValidaÃ§Ã£o	Comportamento
CÃ³digo	Texto (nÃ£o editÃ¡vel)	Preenchido automaticamente	ClicÃ¡vel para expandir detalhes
Produto	Texto (nÃ£o editÃ¡vel)	Preenchido automaticamente	Exibe o nome do produto
Unidade de Medida	Texto (nÃ£o editÃ¡vel)	Preenchido automaticamente	Exibe a unidade (kg, un, l)
Quantidade Solicitada	Texto (nÃ£o editÃ¡vel)	Preenchido automaticamente	Exibe a quantidade solicitada pelo cliente
Quantidade DisponÃ­vel	Input numÃ©rico	ObrigatÃ³rio	Deve ser maior ou igual a zero
PreÃ§o UnitÃ¡rio	Input numÃ©rico (formato monetÃ¡rio)	ObrigatÃ³rio	Permite digitar o valor cotado por unidade
PreÃ§o Total	CÃ¡lculo automÃ¡tico	Baseado na quantidade disponÃ­vel x preÃ§o unitÃ¡rio	Atualiza dinamicamente
ObservaÃ§Ã£o	Input de texto	Opcional (atÃ© 200 caracteres)	Para o fornecedor incluir comentÃ¡rios sobre o produto
âœ… Comportamento da Tabela:

Preenchimento automÃ¡tico dos campos cÃ³digo, produto e unidade de medida.
O fornecedor sÃ³ pode editar os campos de quantidade disponÃ­vel, preÃ§o unitÃ¡rio e observaÃ§Ã£o.
Se o preÃ§o unitÃ¡rio for 0 â†’ Exibe um alerta visual em vermelho.
Se a quantidade disponÃ­vel for inferior Ã  quantidade solicitada â†’ Exibe um alerta em amarelo.
A coluna PreÃ§o Total Ã© calculada automaticamente e atualizada em tempo real.
âœ… ValidaÃ§Ã£o de Campos:

PreÃ§o deve ser maior que zero.
Quantidade disponÃ­vel nÃ£o pode ser negativa.
Campo de observaÃ§Ã£o nÃ£o pode ultrapassar 200 caracteres.
ðŸ”¹ Terceira SeÃ§Ã£o: AÃ§Ãµes e Envio
âœ… O fornecedor poderÃ¡ realizar as seguintes aÃ§Ãµes:

1. Salvar Rascunho
Permite salvar os valores sem finalizar o formulÃ¡rio.
A cotaÃ§Ã£o permanece com status "Em Aberto" atÃ© ser enviada.
2. Enviar CotaÃ§Ã£o
Ao clicar em "Enviar CotaÃ§Ã£o":
O sistema valida os campos preenchidos.
Se tudo estiver correto â†’ O formulÃ¡rio Ã© enviado.
Status da cotaÃ§Ã£o muda para "Respondida".
A cotaÃ§Ã£o serÃ¡ registrada automaticamente na pÃ¡gina Ordem de CotaÃ§Ã£o (#05).
Os preÃ§os cotados serÃ£o automaticamente transferidos para a Planilha de CotaÃ§Ã£o (#07).
3. Cancelar
Fecha o formulÃ¡rio sem salvar dados.
A cotaÃ§Ã£o permanece com status "Em Aberto".
ðŸ”Ž Comportamento apÃ³s Envio:
âœ… ApÃ³s o envio do formulÃ¡rio:

O sistema registra automaticamente a resposta na pÃ¡gina Ordem de CotaÃ§Ã£o (#05).
Os valores sÃ£o atualizados automaticamente na Planilha de CotaÃ§Ã£o (#07).
A cotaÃ§Ã£o serÃ¡ exibida na aba "CotaÃ§Ãµes Respondidas" na pÃ¡gina de Ordem de CotaÃ§Ã£o (#05).
Se o fornecedor nÃ£o responder atÃ© o prazo â†’ A cotaÃ§Ã£o serÃ¡ exibida na aba "CotaÃ§Ãµes NÃ£o Respondidas".
ðŸ”¨ Funcionalidade Adicional:
âœ… Salvamento AutomÃ¡tico:

A cada 10 segundos, o sistema salva automaticamente o estado do formulÃ¡rio como rascunho.
âœ… Preenchimento AutomÃ¡tico:

O sistema preenche automaticamente o preÃ§o mÃ©dio das Ãºltimas compras como sugestÃ£o de preÃ§o inicial.
âœ… Mobile-First:

Design totalmente adaptÃ¡vel para dispositivos mÃ³veis.
Tabela responsiva com rolagem horizontal.
âœ… Acessibilidade:

NavegaÃ§Ã£o com teclado e compatibilidade com leitores de tela.
ðŸ“ NavegaÃ§Ã£o e Comportamento:
âœ… Clicando no link da cotaÃ§Ã£o â†’ Abre o formulÃ¡rio.
âœ… Enviando o formulÃ¡rio â†’ Atualiza status e valores automaticamente.
âœ… Fechando o formulÃ¡rio sem salvar â†’ Nenhuma alteraÃ§Ã£o Ã© feita.

âœ… ConclusÃ£o:
âœ… O formulÃ¡rio de cotaÃ§Ã£o Ã© o ponto central de comunicaÃ§Ã£o com o fornecedor.
âœ… Os preÃ§os e quantidades serÃ£o registrados automaticamente apÃ³s o envio.
âœ… Integrado dinamicamente com as pÃ¡ginas Ordem de CotaÃ§Ã£o (#05) e Planilha de CotaÃ§Ã£o (#07).

PÃ¡gina 06 - Lista de Compras
(CÃ³digo: #06)

Objetivo:
A pÃ¡gina de Lista de Compras serÃ¡ o local onde o sistema organiza automaticamente os itens abaixo do estoque mÃ­nimo que tÃªm como fornecedor um Atacadista.
Os itens listados virÃ£o diretamente da GestÃ£o de Estoque (#04) apÃ³s o usuÃ¡rio clicar em "Enviar para compras".
Os produtos serÃ£o agrupados por fornecedor atacadista, permitindo que o usuÃ¡rio:
Ajuste as quantidades desejadas.
Classifique os atacadistas de acordo com sua rota de entrega.
Registre os preÃ§os dos produtos comprados.
Finalize a compra â†’ Os itens serÃ£o registrados como entrada automÃ¡tica na pÃ¡gina de GestÃ£o de Estoque (#04).
Tecnologias e DependÃªncias NecessÃ¡rias:
âœ… Next.js â€“ Para renderizaÃ§Ã£o SSR e otimizaÃ§Ã£o de desempenho.
âœ… React Query â€“ Para busca e atualizaÃ§Ã£o de dados em tempo real.
âœ… Zustand â€“ Para gerenciamento de estado e cache das listas de compras.
âœ… Tailwind CSS â€“ Para estilizaÃ§Ã£o rÃ¡pida e responsiva.
âœ… Shadcn UI â€“ Para construÃ§Ã£o de componentes como modais, inputs, botÃµes e tabelas.
âœ… Framer Motion â€“ Para efeitos de transiÃ§Ã£o e animaÃ§Ã£o.
âœ… Radix UI â€“ Para popovers, dropdowns e seleÃ§Ã£o de opÃ§Ãµes.
âœ… Zod â€“ Para validaÃ§Ã£o dos dados de entrada e resposta da API.
âœ… Lucide-react â€“ Para Ã­cones e indicadores visuais.
âœ… Day.js â€“ Para manipulaÃ§Ã£o de datas e horÃ¡rios.
âœ… Chart.js â€“ Para grÃ¡ficos de estatÃ­sticas de compras e variaÃ§Ã£o de preÃ§os.

ðŸ’¡ Como a Lista de Compras Ã© Gerada:
âœ… O sistema gera a lista de compras automaticamente com base nos seguintes critÃ©rios:

Se o fornecedor for do tipo Atacadista â†’ Os itens vÃ£o para a pÃ¡gina de Lista de Compras.
Se o item estiver homologado para um atacadista especÃ­fico â†’ O sistema exibe o fornecedor homologado primeiro.
Se o item NÃƒO for homologado â†’ O sistema permite mÃºltiplos fornecedores atacadistas na lista de opÃ§Ãµes.
Se o valor da compra for inferior ao pedido mÃ­nimo do fornecedor â†’ O sistema exibe um alerta visual e impede o envio da compra.
Componentes Visuais e Estrutura:
A pÃ¡gina serÃ¡ organizada em 3 seÃ§Ãµes principais:

ðŸ”¹ Primeira SeÃ§Ã£o: CabeÃ§alho da PÃ¡gina
TÃ­tulo: "Lista de Compras"
Campo de Busca:
Permite buscar pelo nome do insumo ou fornecedor.
Busca em tempo real com debounce de 500ms.
Dropdown de Filtros:
Filtro por:
Nome do fornecedor
Categoria
Status de homologaÃ§Ã£o
Valor total da compra
BotÃ£o "Finalizar Compra":
Ativado apenas quando o valor mÃ­nimo do pedido Ã© atingido.
ðŸ”¹ Segunda SeÃ§Ã£o: Lista de Compras
âœ… Os itens serÃ£o exibidos em formato de lista expansÃ­vel â†’ Agrupados por fornecedor.
âœ… Cada grupo conterÃ¡ os itens comprados daquele fornecedor especÃ­fico.
âœ… OrganizaÃ§Ã£o dos itens:

O sistema permite ordenar os fornecedores por:
Nome
Bairro
Cidade
Estado
Ordem manual (drag and drop)
ðŸ“ InformaÃ§Ãµes dos Fornecedores (Grupo):
Nome do Fornecedor â†’ Exibido em negrito
Bairro â†’ Bairro do fornecedor
Cidade â†’ Cidade do fornecedor
Estado â†’ Estado do fornecedor
Pedido MÃ­nimo â†’ Valor mÃ­nimo para compra daquele fornecedor (em R$)
Status de HomologaÃ§Ã£o â†’ Exibe Ã­cone verde (homologado) ou cinza (nÃ£o homologado)
Total Parcial â†’ Valor total dos itens comprados daquele fornecedor (em R$)
ðŸ“‹ Estrutura da Tabela de Itens:
Campo	Tipo de Input	ValidaÃ§Ã£o	Comportamento
CÃ³digo	Texto (nÃ£o editÃ¡vel)	AutomÃ¡tico	CÃ³digo Ãºnico do insumo
Produto	Texto (nÃ£o editÃ¡vel)	AutomÃ¡tico	Nome do insumo
Unidade de Medida	Texto (nÃ£o editÃ¡vel)	AutomÃ¡tico	Exibe a unidade (kg, un, l)
Quantidade	Input numÃ©rico	ObrigatÃ³rio (â‰¥ 0)	Permite ajuste manual pelo usuÃ¡rio
PreÃ§o UnitÃ¡rio	Input numÃ©rico (formato monetÃ¡rio)	ObrigatÃ³rio (â‰¥ 0)	Preenchido automaticamente com base no preÃ§o mÃ©dio
PreÃ§o Total	CÃ¡lculo automÃ¡tico	Baseado em quantidade x preÃ§o unitÃ¡rio	Atualiza dinamicamente
SeÃ§Ã£o	Dropdown	Opcional	O usuÃ¡rio pode definir a seÃ§Ã£o do produto
Status	Badge colorido	AutomÃ¡tico	Verde (disponÃ­vel), Vermelho (sem estoque)
âœ… Comportamento da Tabela:

O usuÃ¡rio pode:
Editar a quantidade â†’ A tabela recalcula o valor total automaticamente.
Editar o preÃ§o â†’ O sistema alerta se o valor estiver muito acima ou abaixo da mÃ©dia de mercado.
Definir a seÃ§Ã£o â†’ O sistema registra essa informaÃ§Ã£o para futuras compras.
âœ… ValidaÃ§Ã£o AutomÃ¡tica:

Se o valor total da compra for inferior ao pedido mÃ­nimo:
O botÃ£o "Finalizar Compra" fica desativado.
O sistema exibe um alerta em vermelho com o valor necessÃ¡rio para atingir o pedido mÃ­nimo.
ðŸ”¹ Terceira SeÃ§Ã£o: EstatÃ­sticas da Compra
âœ… EstatÃ­sticas em tempo real para facilitar o controle da compra:

Valor Total da Compra: Soma de todos os valores da lista.
Quantidade Total de Itens: Soma de todos os itens registrados.
Valor MÃ©dio por Unidade: MÃ©dia dos preÃ§os unitÃ¡rios dos insumos comprados.
Valor por Fornecedor:
Mostra os fornecedores com maior e menor valor total de compra.
GrÃ¡fico de DistribuiÃ§Ã£o de Compra por Categoria:
Exibe o valor total de compra por categoria em formato de grÃ¡fico de pizza.
ðŸ“‹ Modal de EdiÃ§Ã£o de Item
âœ… O usuÃ¡rio pode editar os itens individualmente atravÃ©s de um modal:

Nome do produto (nÃ£o editÃ¡vel)
Quantidade (numÃ©rico)
PreÃ§o por unidade (numÃ©rico)
SeÃ§Ã£o (dropdown)
Status (badge colorido)
Salvar e Fechar â†’ Atualiza os valores na lista
ðŸ“‹ Modal de FinalizaÃ§Ã£o de Compra
ðŸ‘‰ Abre automaticamente ao clicar em "Finalizar Compra"
âœ… O modal deve conter:

Lista de produtos
Fornecedor associado
Total da compra
Resumo de desconto ou valor extra (se disponÃ­vel)
âœ… AÃ§Ãµes:

Confirmar e Enviar â†’

Registra a compra na pÃ¡gina de Pedidos (#09)
Atualiza o estoque automaticamente na pÃ¡gina GestÃ£o de Estoque (#04)
Exibe mensagem de sucesso
Cancelar â†’ Fecha o modal sem salvar.

ðŸ”¨ Funcionalidade Adicional:
âœ… Cache Local:

Os itens e valores serÃ£o armazenados em cache local para evitar perda de dados.
âœ… SincronizaÃ§Ã£o em Tempo Real:

O sistema deve atualizar automaticamente os valores ao editar um item.
âœ… Modo Offline:

Se o usuÃ¡rio perder a conexÃ£o â†’ A lista fica salva localmente atÃ© que o sistema reconecte.
âœ… Mobile-First:

Design otimizado para dispositivos mÃ³veis com rolagem horizontal na tabela.
âœ… ConclusÃ£o:
âœ… A pÃ¡gina de Lista de Compras serÃ¡ dinÃ¢mica e sincronizada com a GestÃ£o de Estoque (#04).
âœ… As compras serÃ£o registradas automaticamente na pÃ¡gina Pedidos (#09).
âœ… Sistema inteligente de validaÃ§Ã£o de valores e pedido mÃ­nimo.

A sÃ©tima pÃ¡gina Ã© Planilha de cotaÃ§Ã£o #07. A planilha de cotaÃ§Ã£o recebe as cotaÃ§Ãµes vindas dos formulÃ¡rios #05'1 respondidas pelos fornecedores distribuidor, fabricante e as cotaÃ§Ãµes manuais respondidas pelo usuÃ¡rio de e-commerce. A interface inicial da pÃ¡gina carrega automaticamente uma lista de itens cotados, onde cada item contÃ©m as seguintes informaÃ§Ãµes:
Nome do item â€“ Exemplo: "Biscoito Maria Vitarella - Pct C/3, 12un".
Quantidade â€“ NÃºmero de unidades desejadas para compra.
Unidade de medida â€“ L (litro), KG (Quilo), UN (Unidade).
Valor unitÃ¡rio â€“ PreÃ§o por unidade do item cotado.
Valor total â€“ Valor total do item, baseado na quantidade e no valor unitÃ¡rio.
ObservaÃ§Ã£o â€“ IndicaÃ§Ãµes como "Estoque insuficiente", "Oferta", "Estoque acabando" (informado pelo fornecedor no formulÃ¡rio de cotaÃ§Ã£o #05'1)
Ãšltima cotaÃ§Ã£o â€“ PreÃ§o mais recente registrado do item.
VariaÃ§Ã£o de preÃ§o â€“ DiferenÃ§a percentual entre a Ãºltima cotaÃ§Ã£o e o preÃ§o atual.
Status â€“ ClassificaÃ§Ã£o do preÃ§o em relaÃ§Ã£o ao histÃ³rico, podendo ser:
"Mais barato" (preÃ§o caiu em relaÃ§Ã£o Ã  Ãºltima cotaÃ§Ã£o).
"Mais caro" (preÃ§o subiu em relaÃ§Ã£o Ã  Ãºltima cotaÃ§Ã£o).
"Mesmo preÃ§o" (nenhuma variaÃ§Ã£o).
Melhor preÃ§o encontrado â€“ Indica o fornecedor que tem o menor preÃ§o atual.
Lista de fornecedores â€“ Exibe todos os fornecedores que cotaram aquele item, com os respectivos preÃ§os. (essa listagem deve aparecer ao clicar no item da lista e expande exibindo os fornecedores)
SeleÃ§Ã£o AutomÃ¡tica do Melhor PreÃ§o
Para agilizar o processo, a funÃ§Ã£o selecionarMelhoresPrecos() percorre todos os itens da planilha e marca automaticamente como selecionado o fornecedor com o menor preÃ§o. Assim, o usuÃ¡rio pode otimizar a escolha sem precisar comparar manualmente os valores.
Busca e Filtros
A interface inclui um campo de busca (search) que permite ao usuÃ¡rio digitar o nome de um item para localizÃ¡-lo rapidamente na planilha. AlÃ©m disso, hÃ¡ um filtro de perÃ­odo (period), que pode ser ajustado para visualizar cotaÃ§Ãµes diÃ¡rias, semanais, mensais ou personalizadas.
AdiÃ§Ã£o e RemoÃ§Ã£o de Itens
O usuÃ¡rio pode gerenciar os produtos na cotaÃ§Ã£o atravÃ©s das funÃ§Ãµes:
adicionarItem(): Adiciona um novo item Ã  planilha, criando um campo em branco para preenchimento.
removerItem(id): Remove um item especÃ­fico da cotaÃ§Ã£o.
Essas funÃ§Ãµes permitem que a lista seja personalizada conforme a necessidade.
SeleÃ§Ã£o Manual de Fornecedores
Cada item da lista pode ser expandido ao ser clicado, revelando os fornecedores disponÃ­veis e seus respectivos preÃ§os. Dentro desse painel expandido:
Os fornecedores aparecem em botÃµes individuais, onde cada um exibe:
Nome do fornecedor.
PreÃ§o cotado por ele para aquele item.
O usuÃ¡rio pode clicar no fornecedor desejado para selecionÃ¡-lo como a opÃ§Ã£o escolhida para o item. Caso nenhuma seleÃ§Ã£o seja feita, o sistema deve emitir um alerta indicando.
A seleÃ§Ã£o fica visualmente destacada, ajudando na organizaÃ§Ã£o e conferÃªncia dos valores.
EstatÃ­sticas Gerais da CotaÃ§Ã£o
Na parte inferior da planilha, hÃ¡ um painel que exibe resumos quantitativos da cotaÃ§Ã£o:
Valor Total â€“ Soma do valor total de todos os itens cotados.
Economia Estimada â€“ DiferenÃ§a entre a Ãºltima cotaÃ§Ã£o e o menor preÃ§o encontrado para os itens, mostrando quanto pode ser economizado.
Itens Cotados â€“ Quantidade total de itens listados na planilha.
Fornecedores Participantes â€“ NÃºmero total de fornecedores que enviaram preÃ§os para os itens.
Esses dados ajudam o usuÃ¡rio a analisar rapidamente os impactos da cotaÃ§Ã£o.
ExportaÃ§Ã£o e AÃ§Ãµes Finais
A interface oferece botÃµes para facilitar a finalizaÃ§Ã£o da cotaÃ§Ã£o:
Selecionar Melhores PreÃ§os â€“ Ativa a funÃ§Ã£o que escolhe automaticamente os fornecedores mais baratos.
Adicionar Novo Item â€“ Insere manualmente um novo produto na planilha.
Exportar â€“ Permite a exportaÃ§Ã£o da planilha para anÃ¡lise externa.
Salvar Rascunho â€“ Armazena os dados temporariamente para ajustes posteriores.
Enviar para Ordem de Compra #08 â€“ Gera um documento com os itens e fornecedores selecionados.
Ao clicar em "Enviar para Ordem de Compra", os itens escolhidos e seus respectivos fornecedores sÃ£o enviados para #08.

PÃ¡gina 08 - Ordem de Compra
(CÃ³digo: #08)

Objetivo:
A pÃ¡gina de Ordem de Compra permitirÃ¡ que o usuÃ¡rio gere, revise, finalize e envie pedidos diretamente para os fornecedores selecionados na pÃ¡gina Planilha de CotaÃ§Ã£o (#07) e na pÃ¡gina GestÃ£o de Estoque (#04).

A lÃ³gica de envio serÃ¡ baseada no tipo de fornecedor:

Distribuidor â†’ Ordem de compra automÃ¡tica apÃ³s resposta Ã  cotaÃ§Ã£o.
Fabricante â†’ Ordem de compra automÃ¡tica apÃ³s resposta Ã  cotaÃ§Ã£o.
Atacadista â†’ Ordem de compra manual baseada na Lista de Compras (#06).
E-commerce â†’ Ordem de compra manual apÃ³s preenchimento na cotaÃ§Ã£o.
Homologado â†’ Ordem de compra gerada diretamente apÃ³s seleÃ§Ã£o do melhor preÃ§o na Planilha de CotaÃ§Ã£o (#07).
O sistema permitirÃ¡ que o usuÃ¡rio:

Ajuste as quantidades e preÃ§os diretamente na ordem de compra.
Registre o pagamento.
Envie a ordem de compra diretamente para o fornecedor via WhatsApp.
Sincronize automaticamente os dados com o estoque apÃ³s o status do pedido ser confirmado como "Recebido".
Tecnologias e DependÃªncias NecessÃ¡rias:
âœ… Next.js â€“ Para renderizaÃ§Ã£o SSR e otimizaÃ§Ã£o de desempenho.
âœ… React Query â€“ Para busca e atualizaÃ§Ã£o de dados em tempo real.
âœ… Zustand â€“ Para gerenciamento de estado e cache das ordens de compra.
âœ… Tailwind CSS â€“ Para estilizaÃ§Ã£o rÃ¡pida e responsiva.
âœ… Shadcn UI â€“ Para construÃ§Ã£o de componentes como modais, inputs, botÃµes e tabelas.
âœ… Framer Motion â€“ Para efeitos de transiÃ§Ã£o e animaÃ§Ã£o.
âœ… Radix UI â€“ Para popovers, dropdowns e seleÃ§Ã£o de opÃ§Ãµes.
âœ… Zod â€“ Para validaÃ§Ã£o dos dados de entrada e resposta da API.
âœ… Lucide-react â€“ Para Ã­cones e indicadores visuais.
âœ… Day.js â€“ Para manipulaÃ§Ã£o de datas e horÃ¡rios.
âœ… WhatsApp API (Web) â€“ Para envio automÃ¡tico de pedidos.
âœ… Chart.js â€“ Para anÃ¡lise estatÃ­stica de ordens de compra.

ðŸ’¡ Como os Dados Chegam na Ordem de Compra:
âœ… Os itens serÃ£o carregados automaticamente a partir das seguintes fontes:

Planilha de CotaÃ§Ã£o (#07) â†’ ApÃ³s o usuÃ¡rio aceitar o preÃ§o cotado, o sistema envia automaticamente o item para a Ordem de Compra.
Lista de Compras (#06) â†’ ApÃ³s o usuÃ¡rio finalizar a lista de compra, o sistema cria automaticamente uma ordem de compra para o fornecedor atacadista.
GestÃ£o de Estoque (#04) â†’ Se o item for homologado para um fornecedor especÃ­fico, o sistema gera automaticamente a ordem de compra apÃ³s atingir o nÃ­vel de estoque mÃ­nimo.
CotaÃ§Ã£o Manual â†’ Para fornecedores de e-commerce, o sistema permite que o usuÃ¡rio preencha o valor diretamente na ordem de compra.
Componentes Visuais e Estrutura:
A pÃ¡gina serÃ¡ organizada em 3 seÃ§Ãµes principais:

ðŸ”¹ Primeira SeÃ§Ã£o: CabeÃ§alho da PÃ¡gina
TÃ­tulo: "Ordem de Compra"
Campo de Busca:
Permite buscar pelo nome do insumo ou fornecedor.
Busca em tempo real com debounce de 500ms.
Dropdown de Filtros:
Filtro por:
Nome do fornecedor
Categoria
Status (em aberto, enviado, recebido, cancelado)
Data de emissÃ£o
BotÃ£o "Finalizar Compra":
DisponÃ­vel apenas quando o valor mÃ­nimo do pedido Ã© atingido.
ApÃ³s finalizaÃ§Ã£o â†’ Atualiza automaticamente o estoque e o status do pedido.
ðŸ”¹ Segunda SeÃ§Ã£o: Lista de Ordens de Compra
âœ… Os pedidos serÃ£o exibidos em formato de cards expansÃ­veis â†’ Organizados por fornecedor e status.

âœ… Abas por Status:

Ordem de Compra em Aberto â†’ Fundo amarelo
Ordem de Compra Enviada â†’ Fundo azul
Ordem de Compra Recebida â†’ Fundo verde
Ordem de Compra Cancelada â†’ Fundo vermelho
ðŸ“ InformaÃ§Ãµes do Card de Ordem de Compra:
CÃ³digo da Ordem de Compra â†’ CÃ³digo Ãºnico gerado automaticamente pelo sistema.
Nome do Fornecedor â†’ Exibe o nome do fornecedor responsÃ¡vel pelo pedido.
Data de EmissÃ£o â†’ Exibe a data e hora da geraÃ§Ã£o da ordem de compra.
Quantidade de Itens â†’ NÃºmero total de itens na ordem.
Total Estimado â†’ Valor total da ordem baseado nos preÃ§os cotados.
Status â†’ Exibe o status atual da ordem.
BotÃ£o de AÃ§Ã£o â†’ Expande para detalhes ou permite editar a ordem.
âœ… Comportamento dos Cards:

Ordem de Compra em Aberto â†’ O usuÃ¡rio pode editar, excluir ou enviar a ordem.
Ordem de Compra Enviada â†’ O usuÃ¡rio pode apenas visualizar os detalhes.
Ordem de Compra Recebida â†’ O sistema registra automaticamente a entrada no estoque.
Ordem de Compra Cancelada â†’ A ordem fica bloqueada para ediÃ§Ã£o.
ðŸ“‹ Estrutura da Tabela de Itens:
Campo	Tipo de Input	ValidaÃ§Ã£o	Comportamento
CÃ³digo	Texto (nÃ£o editÃ¡vel)	AutomÃ¡tico	CÃ³digo Ãºnico do insumo
Produto	Texto (nÃ£o editÃ¡vel)	AutomÃ¡tico	Nome do insumo
Unidade de Medida	Texto (nÃ£o editÃ¡vel)	AutomÃ¡tico	Exibe a unidade (kg, un, l)
Quantidade	Input numÃ©rico	ObrigatÃ³rio (â‰¥ 0)	Permite ajuste manual
PreÃ§o UnitÃ¡rio	Input numÃ©rico (formato monetÃ¡rio)	ObrigatÃ³rio (â‰¥ 0)	Preenchido automaticamente com base no preÃ§o cotado
PreÃ§o Total	CÃ¡lculo automÃ¡tico	Baseado em quantidade x preÃ§o unitÃ¡rio	Atualiza dinamicamente
SeÃ§Ã£o	Dropdown	Opcional	Permite definir a seÃ§Ã£o de armazenamento
Status	Badge colorido	AutomÃ¡tico	Verde (disponÃ­vel), Vermelho (sem estoque)
ðŸ”¹ Terceira SeÃ§Ã£o: EstatÃ­sticas de Compra
âœ… EstatÃ­sticas em tempo real para facilitar o controle da compra:

Valor Total de Compras: Soma de todas as ordens de compra emitidas.
Quantidade Total de Itens Comprados: Soma de todos os itens comprados.
Custo MÃ©dio por Unidade: MÃ©dia dos preÃ§os por unidade comprada.
Total por Fornecedor:
Exibe o valor total de compras por fornecedor.
GrÃ¡fico de DistribuiÃ§Ã£o de Compra por Categoria:
Exibe o valor total de compra por categoria em grÃ¡fico de pizza.
ðŸ“‹ Modal de Envio da Ordem de Compra
ðŸ‘‰ Aberto ao clicar em "Enviar Ordem de Compra"

âœ… Exibe mensagem:

plaintext
Copiar
Editar
OlÃ¡, (Nome do Vendedor)!
Segue o pedido referente Ã  cotaÃ§Ã£o enviada anteriormente:
(Link para PDF com detalhes)
Aguardo sua confirmaÃ§Ã£o.
Obrigado!
âœ… AÃ§Ãµes:

Confirmar e Enviar â†’ Direciona para WhatsApp Web
Cancelar â†’ Fecha o modal
ðŸ“‹ Modal de ConfirmaÃ§Ã£o de Recebimento
âœ… Exibe os seguintes dados:

Nome do fornecedor
Lista de itens
Quantidades recebidas
PreÃ§o total
âœ… AÃ§Ãµes:

Confirmar â†’ Atualiza o estoque e finaliza a compra
Cancelar â†’ Fecha o modal
ðŸ”¨ Funcionalidade Adicional:
âœ… Cache Local
âœ… SincronizaÃ§Ã£o em Tempo Real
âœ… Modo Offline
âœ… ExportaÃ§Ã£o em PDF

âœ… ConclusÃ£o:
âœ… A pÃ¡gina de Ordem de Compra Ã© a Ãºltima etapa do processo de compra.
âœ… ApÃ³s o recebimento, o estoque serÃ¡ automaticamente atualizado.
âœ… Os dados serÃ£o integrados Ã s pÃ¡ginas de Pedidos (#09) e Estoque (#04).

PÃ¡gina 09 - Pedidos
(CÃ³digo: #09)

Objetivo:
A pÃ¡gina de Pedidos permitirÃ¡ que o usuÃ¡rio acompanhe e gerencie o ciclo completo das ordens de compra emitidas na pÃ¡gina Ordem de Compra (#08).
Os pedidos serÃ£o organizados em formato Kanban com status claramente definidos para permitir uma visÃ£o clara do fluxo dos pedidos.
O sistema permitirÃ¡ que o usuÃ¡rio:
Acompanhe o status de cada pedido em tempo real.
Confirme o recebimento parcial ou total dos itens.
Ajuste automaticamente o estoque apÃ³s a confirmaÃ§Ã£o de recebimento.
Edite ou cancele pedidos em aberto.
Visualize o histÃ³rico completo de cada pedido, incluindo variaÃ§Ã£o de preÃ§os e tempo de entrega.
Tecnologias e DependÃªncias NecessÃ¡rias:
âœ… Next.js â€“ Para renderizaÃ§Ã£o SSR e otimizaÃ§Ã£o de desempenho.
âœ… React Query â€“ Para busca e atualizaÃ§Ã£o de dados em tempo real.
âœ… Zustand â€“ Para gerenciamento de estado e cache dos pedidos.
âœ… Tailwind CSS â€“ Para estilizaÃ§Ã£o rÃ¡pida e responsiva.
âœ… Shadcn UI â€“ Para construÃ§Ã£o de componentes como modais, inputs, botÃµes e tabelas.
âœ… Framer Motion â€“ Para efeitos de transiÃ§Ã£o e animaÃ§Ã£o.
âœ… Radix UI â€“ Para popovers, dropdowns e seleÃ§Ã£o de opÃ§Ãµes.
âœ… Zod â€“ Para validaÃ§Ã£o dos dados de entrada e resposta da API.
âœ… Lucide-react â€“ Para Ã­cones e indicadores visuais.
âœ… Day.js â€“ Para manipulaÃ§Ã£o de datas e horÃ¡rios.
âœ… Chart.js â€“ Para grÃ¡ficos de anÃ¡lise de desempenho e entrega.
âœ… WhatsApp API (Web) â€“ Para comunicaÃ§Ã£o com os fornecedores.

ðŸ’¡ Como os Pedidos sÃ£o Criados:
âœ… Os pedidos serÃ£o gerados automaticamente a partir das seguintes fontes:

Ordem de Compra (#08) â†’ Quando o usuÃ¡rio finaliza e confirma uma ordem de compra.
CotaÃ§Ã£o Manual (#05) â†’ Para fornecedores de e-commerce, o sistema registra manualmente o valor e gera o pedido apÃ³s a aceitaÃ§Ã£o.
Lista de Compras (#06) â†’ ApÃ³s o usuÃ¡rio concluir a compra com atacadistas, o sistema gera automaticamente um pedido com os itens comprados.
Fluxo do Pedido:
O pedido Ã© criado automaticamente apÃ³s a Ordem de Compra ser enviada para o fornecedor.
O sistema marca o pedido como "Aguardando ConfirmaÃ§Ã£o".
Quando o fornecedor confirma o pedido â†’ O status muda para "Pedido Confirmado".
ApÃ³s o recebimento â†’ O sistema marca o status como "Pedido Recebido" e registra a entrada dos produtos no estoque.
Se o fornecedor nÃ£o confirmar dentro do prazo â†’ O sistema gera um alerta e o pedido serÃ¡ exibido como "Pedido NÃ£o Confirmado".
O usuÃ¡rio pode editar ou cancelar um pedido enquanto ele estiver em "Aberto" ou "Aguardando ConfirmaÃ§Ã£o".
Componentes Visuais e Estrutura:
A pÃ¡gina serÃ¡ organizada em 3 seÃ§Ãµes principais:

ðŸ”¹ Primeira SeÃ§Ã£o: CabeÃ§alho da PÃ¡gina
TÃ­tulo: "Pedidos"
Campo de Busca:
Permite buscar pelo nome do fornecedor ou cÃ³digo do pedido.
Busca em tempo real com debounce de 500ms.
Dropdown de Filtros:
Filtro por:
Nome do fornecedor
Categoria
Data de emissÃ£o
Status (Aberto, Confirmado, Recebido, Cancelado)
Valor Total
ðŸ”¹ Segunda SeÃ§Ã£o: Kanban de Pedidos
âœ… O sistema exibirÃ¡ os pedidos em formato de Kanban com 4 colunas:

Coluna	Status	Cor	Comportamento
Aguardando ConfirmaÃ§Ã£o	Pedido enviado, aguardando confirmaÃ§Ã£o do fornecedor	Amarelo	O usuÃ¡rio pode editar ou cancelar
Pedido Confirmado	Pedido confirmado pelo fornecedor, aguardando recebimento	Azul	O usuÃ¡rio pode apenas registrar o recebimento ou cancelar
Pedido Recebido	Pedido totalmente recebido e registrado no estoque	Verde	Registro de entrada no estoque Ã© feito automaticamente
Pedido Cancelado	Pedido cancelado pelo usuÃ¡rio ou pelo fornecedor	Vermelho	O pedido Ã© bloqueado para ediÃ§Ã£o
ðŸ“ InformaÃ§Ãµes de cada Card:
âœ… Cada pedido serÃ¡ exibido em formato de card expansÃ­vel.
âœ… Os cards terÃ£o os seguintes campos:

Campo	DescriÃ§Ã£o	Comportamento
CÃ³digo do Pedido	CÃ³digo Ãºnico para identificaÃ§Ã£o	ClicÃ¡vel â†’ Abre os detalhes completos
Nome do Fornecedor	Nome do fornecedor associado	Exibe o nome comercial
Data de EmissÃ£o	Data e hora da criaÃ§Ã£o do pedido	Formatada por Day.js
Prazo de Entrega	Prazo definido na cotaÃ§Ã£o ou ordem de compra	Mostra a contagem regressiva
Valor Total	Valor total do pedido em R$	Atualiza automaticamente com ajustes
Quantidade de Itens	NÃºmero total de itens no pedido	Exibe o nÃºmero total
Status	Status atual do pedido	Badge com cor correspondente
âœ… Comportamento dos Cards:

O usuÃ¡rio pode arrastar os cards entre as colunas para alterar o status.
Se o usuÃ¡rio mover para "Pedido Confirmado" â†’ O sistema exibe um modal para o usuÃ¡rio confirmar os itens.
Se o usuÃ¡rio mover para "Pedido Recebido" â†’ O sistema registra automaticamente a entrada dos produtos no estoque.
ðŸ“‹ Modal de Detalhamento do Pedido
ðŸ‘‰ Aberto ao clicar em um card de pedido

âœ… Exibe detalhes completos do pedido:

Nome do fornecedor
Lista de itens cotados
Quantidade solicitada
PreÃ§o unitÃ¡rio
Valor total
Prazo de entrega
HistÃ³rico de movimentaÃ§Ãµes do pedido
âœ… AÃ§Ãµes DisponÃ­veis:

Editar Pedido â†’ Apenas para pedidos em "Aguardando ConfirmaÃ§Ã£o".
Cancelar Pedido â†’ Apenas para pedidos em "Aguardando ConfirmaÃ§Ã£o".
Confirmar Recebimento â†’ Apenas para pedidos em "Confirmado".
ðŸ“‹ Modal de Recebimento de Pedido
ðŸ‘‰ Aberto ao mover o pedido para "Recebido"

âœ… O modal exibirÃ¡ os seguintes dados:

Nome do fornecedor
Lista de itens cotados
Quantidades recebidas
PreÃ§o por unidade
Valor total
DiferenÃ§a entre o pedido e o valor real recebido
âœ… ValidaÃ§Ã£o AutomÃ¡tica:

Se o valor recebido for diferente do valor cotado â†’ O sistema exibe um alerta para o usuÃ¡rio justificar a diferenÃ§a.
Se a quantidade recebida for maior ou menor â†’ O sistema atualiza automaticamente o estoque com a diferenÃ§a registrada como ajuste.
âœ… AÃ§Ãµes:

Confirmar Recebimento â†’ Atualiza automaticamente o estoque e o status do pedido.
Cancelar â†’ Fecha o modal sem salvar alteraÃ§Ãµes.
ðŸ”¹ Terceira SeÃ§Ã£o: EstatÃ­sticas de Pedidos
âœ… EstatÃ­sticas detalhadas para anÃ¡lise de desempenho:

Total de Pedidos: NÃºmero total de pedidos criados.
Pedidos Recebidos: NÃºmero total de pedidos registrados como "Recebidos".
Valor Total Comprado: Soma do valor de todos os pedidos registrados.
Tempo MÃ©dio de ConfirmaÃ§Ã£o: Tempo mÃ©dio para o fornecedor confirmar o pedido.
Tempo MÃ©dio de Entrega: Tempo mÃ©dio entre a emissÃ£o do pedido e o recebimento.
Fornecedores com Melhor Desempenho: Lista de fornecedores com maior frequÃªncia de resposta e melhores preÃ§os.
ðŸ”¨ Funcionalidade Adicional:
âœ… Cache Local
âœ… SincronizaÃ§Ã£o em Tempo Real
âœ… Modo Offline
âœ… ExportaÃ§Ã£o em PDF
âœ… AnÃ¡lise de Tempo de Entrega
âœ… GrÃ¡fico de Pedidos por Status

âœ… ConclusÃ£o:
âœ… A pÃ¡gina de Pedidos fornece um controle completo sobre o ciclo de compras.
âœ… O sistema atualiza automaticamente o estoque apÃ³s confirmaÃ§Ã£o de recebimento.
âœ… Os dados sÃ£o integrados dinamicamente com as pÃ¡ginas de Estoque (#04) e Planilha de CotaÃ§Ã£o (#07).

PÃ¡gina 10 - Ficha TÃ©cnica
(CÃ³digo: #10)

Objetivo:
A pÃ¡gina de Ficha TÃ©cnica permitirÃ¡ ao usuÃ¡rio:
âœ… Cadastrar e gerenciar fichas tÃ©cnicas de produtos prontos e intermediÃ¡rios.
âœ… Calcular automaticamente o custo com base nos ingredientes e rendimento.
âœ… Gerar impacto direto no estoque apÃ³s o uso dos ingredientes em preparaÃ§Ãµes.
âœ… Substituir automaticamente ingredientes com base na disponibilidade e preÃ§o.
âœ… Recalcular automaticamente o preÃ§o de venda com base na variaÃ§Ã£o de preÃ§o dos insumos.
âœ… Gerar alertas sobre aumento de custo, queda de margem e variaÃ§Ã£o de CMV.
âœ… Registrar o CMV real e teÃ³rico com base na movimentaÃ§Ã£o de estoque e variaÃ§Ã£o de preÃ§o.
Tipos de Fichas TÃ©cnicas:
Produto Pronto â†’ Produto final que serÃ¡ vendido diretamente na pÃ¡gina Registro de Vendas (#11).
Produto IntermediÃ¡rio â†’ Produto que serÃ¡ usado como insumo em outras fichas tÃ©cnicas.
ðŸ‘‰ DiferenÃ§as de cÃ¡lculo:
âœ… Produto Pronto â†’ CÃ¡lculo com base em custo + margem â†’ Define preÃ§o de venda sugerido.
âœ… Produto IntermediÃ¡rio â†’ CÃ¡lculo com base apenas em custo â†’ Define preÃ§o por unidade e preÃ§o por kg.

Tecnologias e DependÃªncias NecessÃ¡rias:
âœ… Next.js â€“ Para renderizaÃ§Ã£o SSR e otimizaÃ§Ã£o de desempenho.
âœ… React Query â€“ Para busca e atualizaÃ§Ã£o de dados em tempo real.
âœ… Zustand â€“ Para gerenciamento de estado e cache das fichas tÃ©cnicas.
âœ… Tailwind CSS â€“ Para estilizaÃ§Ã£o rÃ¡pida e responsiva.
âœ… Shadcn UI â€“ Para construÃ§Ã£o de componentes como modais, inputs, botÃµes e tabelas.
âœ… Framer Motion â€“ Para efeitos de transiÃ§Ã£o e animaÃ§Ã£o.
âœ… Radix UI â€“ Para popovers, dropdowns e seleÃ§Ã£o de opÃ§Ãµes.
âœ… Zod â€“ Para validaÃ§Ã£o dos dados de entrada e resposta da API.
âœ… Lucide-react â€“ Para Ã­cones e indicadores visuais.
âœ… Day.js â€“ Para manipulaÃ§Ã£o de datas e horÃ¡rios.
âœ… Chart.js â€“ Para anÃ¡lise de CMV e variaÃ§Ã£o de preÃ§os.

Objetivo Principal
A pÃ¡gina de Ficha TÃ©cnica Ã© central para o controle de custos, pois permite:

Cadastro, ediÃ§Ã£o e exclusÃ£o de fichas tÃ©cnicas, tanto de produtos prontos quanto de produtos intermediÃ¡rios.
Gerenciamento detalhado de ingredientes (insumos) com cÃ¡lculo de rendimento, custo total, custo por porÃ§Ã£o, custo por kg, margem de lucro (no caso de produtos prontos) e CMV (%).
IntegraÃ§Ã£o direta com o Estoque (#04) para abater insumos de acordo com as vendas ou produÃ§Ã£o de intermediÃ¡rios.
SubstituiÃ§Ã£o automÃ¡tica de insumos quando nÃ£o houver estoque de determinado produto, exibindo alertas e sugerindo fornecedores alternativos.
AnÃ¡lise e sugestÃ£o de otimizaÃ§Ãµes de custos, seja trocando insumos por versÃµes mais econÃ´micas ou ajustando o preÃ§o de venda para manter a margem de lucro.
DiferenÃ§a Entre Produto Pronto e Produto IntermediÃ¡rio
Produto Pronto

Ã‰ vendido diretamente (aparece na pÃ¡gina de Registro de Vendas #11).
Possui cÃ¡lculo de custo + margem de lucro, resultando em PreÃ§o de Venda Sugerido.
O usuÃ¡rio pode praticar um preÃ§o de venda diferente do sugerido (chamado "PreÃ§o de Venda Praticado"). O sistema, entÃ£o, recalcula a margem com base nesse preÃ§o efetivo.
O rendimento em porÃ§Ãµes define quantas unidades de venda podem ser obtidas de uma preparaÃ§Ã£o (ex.: 1 pizza = 8 fatias).
Produto IntermediÃ¡rio

NÃ£o Ã© vendido diretamente; serve de insumo para outros produtos ou preparaÃ§Ãµes (ex.: â€œmolho baseâ€, â€œcaldo de legumesâ€, â€œmassa de pizza semiprontaâ€).
Ã‰ cadastrado no estoque como um item na aba "Estoque de Produtos IntermediÃ¡rios".
Tem cÃ¡lculo de custo total, custo por kg e custo por porÃ§Ã£o (caso o usuÃ¡rio queira fracionÃ¡-lo).
NÃ£o hÃ¡ margem de lucro ou preÃ§o de venda pÃºblico, pois nÃ£o Ã© vendido isoladamente. O custo do produto intermediÃ¡rio impacta no custo do produto pronto que o utiliza.
CÃ¡lculo de Rendimento (Bruto/LÃ­quido) em Cada Ingrediente
1. Conceito de Rendimento
Cada ingrediente na ficha tÃ©cnica pode ter uma perda (descarte de parte nÃ£o aproveitÃ¡vel) ou reduÃ§Ã£o durante o processo de preparo (por exemplo, limpeza de carnes, cascas de legumes ou evaporaÃ§Ã£o de lÃ­quidos).
Rendimento (%) define qual fraÃ§Ã£o do peso bruto se torna peso lÃ­quido efetivamente utilizÃ¡vel na receita.
2. Campos de Rendimento no Ingrediente
Para cada ingrediente adicionado, teremos:

Quantidade Bruta: quanto do insumo o usuÃ¡rio precisa antes de qualquer preparo ou limpeza.
Rendimento (%): qual a porcentagem do peso bruto que efetivamente se converte em peso lÃ­quido.
Se o usuÃ¡rio jÃ¡ souber o rendimento, ele preenche direto o valor (ex.: 80%).
Se o usuÃ¡rio nÃ£o souber o rendimento, o sistema permite dois campos: Peso Bruto e Peso LÃ­quido â†’ e entÃ£o calcula o rendimento automaticamente, usando a fÃ³rmula:
Rendimento
=
PesoÂ L
Ä±
ËŠ
quido
PesoÂ Bruto
Ã—
100
Rendimento= 
PesoÂ Bruto
PesoÂ L 
Ä±
ËŠ
 quido
â€‹
 Ã—100
Quantidade LÃ­quida: Ã© a quantidade de ingrediente efetivamente utilizada na ficha (apÃ³s limpeza, cocÃ§Ã£o etc.).
FÃ³rmula quando o rendimento jÃ¡ Ã© conhecido:
QuantidadeÂ L
Ä±
ËŠ
quida
=
QuantidadeÂ Bruta
Ã—
Rendimento
100
QuantidadeÂ L 
Ä±
ËŠ
 quida= 
100
QuantidadeÂ BrutaÃ—Rendimento
â€‹
 
Se o usuÃ¡rio entrou com pesos bruto e lÃ­quido, o sistema preenche esse campo automaticamente.
3. Impacto no Custo (PreÃ§o Bruto/LÃ­quido)
O PreÃ§o Bruto Ã© o valor de compra (mÃ©dio) de um insumo na quantidade bruta.
Com um rendimento menor que 100%, o custo aumenta proporcionalmente para a porÃ§Ã£o lÃ­quida (pois se perde parte do produto).
O PreÃ§o LÃ­quido reflete o valor real do ingrediente aproveitado:
Pre
c
Â¸
oÂ L
Ä±
ËŠ
quido
=
Pre
c
Â¸
oÂ Bruto
Rendimento
/
100
(quandoÂ h
a
ËŠ
Â perda)
Pre 
c
Â¸
â€‹
 oÂ L 
Ä±
ËŠ
 quido= 
Rendimento/100
Pre 
c
Â¸
â€‹
 oÂ Bruto
â€‹
 (quandoÂ h 
a
ËŠ
 Â perda)
ou, em outra lÃ³gica,
Pre
c
Â¸
oÂ L
Ä±
ËŠ
quido
=
Pre
c
Â¸
oÂ Bruto
Ã—
(
1
Rendimento
/
100
)
.
Pre 
c
Â¸
â€‹
 oÂ L 
Ä±
ËŠ
 quido=Pre 
c
Â¸
â€‹
 oÂ BrutoÃ—( 
Rendimento/100
1
â€‹
 ).
Lista de Ingredientes na Ficha
Cada ingrediente terÃ¡ as seguintes colunas:

CÃ³digo do Insumo

Puxado automaticamente do Cadastro de Insumos (#03).
ClicÃ¡vel para abrir detalhes do insumo (fornecedor, estoque atual, preÃ§o mÃ©dio histÃ³rico etc.).
Nome do Insumo

Selecionado via dropdown ou busca.
Caso o insumo nÃ£o esteja cadastrado, o usuÃ¡rio deve cadastrar primeiro na pÃ¡gina de Insumos (#03).
Quantidade Bruta

Quantidade necessÃ¡ria antes de qualquer perda.
Campo numÃ©rico (ex.: 2,5 kg).
Unidade de Medida

kg, g, L, ml, un etc.
Vem do cadastro do insumo.
PreÃ§o Bruto

Valor mÃ©dio de compra, calculado com base no preÃ§o do estoque.
Atualiza automaticamente sempre que o preÃ§o do insumo muda no estoque (se a opÃ§Ã£o de atualizaÃ§Ã£o automÃ¡tica estiver habilitada).
Ã‰ multiplicado pela quantidade bruta para chegar no custo total bruto.
Rendimento (%)

Percentual que o usuÃ¡rio informa ou que o sistema calcula com base em peso lÃ­quido e peso bruto.
Quantidade LÃ­quida

Campo calculado automaticamente, resultante de 
QuantidadeÂ Bruta
Ã—
(
Rendimento
/
100
)
QuantidadeÂ BrutaÃ—(Rendimento/100).
PreÃ§o LÃ­quido

Valor correspondente ao custo efetivo considerando a perda.
Calculado com base em 
Pre
c
Â¸
oÂ Bruto
/
(
Rendimento
/
100
)
Pre 
c
Â¸
â€‹
 oÂ Bruto/(Rendimento/100) ou pelo fator de correÃ§Ã£o.
AÃ§Ãµes

Editar ingrediente.
Remover ingrediente da lista.
Selecionar Substituto: caso haja falta no estoque do insumo principal, o sistema pode trocar automaticamente pelo insumo substituto.
CÃ¡lculos de Custos Finais
1. Produto Pronto
Custo Total (R$)
Soma de todos os preÃ§os lÃ­quidos dos ingredientes.

Rendimento em PorÃ§Ãµes
Quantas porÃ§Ãµes (ou unidades de venda) a receita rende. Exemplo:

1 torta que rende 10 fatias.
1 pizza que rende 8 fatias.
Custo por PorÃ§Ã£o (R$)

CustoÂ porÂ Por
c
Â¸
a
Ëœ
o
=
CustoÂ Total
NÂºÂ deÂ Por
c
Â¸
o
Ëœ
es
CustoÂ porÂ Por 
c
Â¸
â€‹
  
a
Ëœ
 o= 
NÂºÂ deÂ Por 
c
Â¸
â€‹
  
o
Ëœ
 es
CustoÂ Total
â€‹
 
Custo por kg (R$)
Se o produto final tem um peso total informado (pÃ³s-cocÃ§Ã£o), entÃ£o:

CustoÂ porÂ kg
=
CustoÂ Total
PesoÂ L
Ä±
ËŠ
quidoÂ FinalÂ (emÂ kg)
CustoÂ porÂ kg= 
PesoÂ L 
Ä±
ËŠ
 quidoÂ FinalÂ (emÂ kg)
CustoÂ Total
â€‹
 
Margem de Lucro (%)
Se o usuÃ¡rio define um PreÃ§o de Venda Praticado ou utiliza o PreÃ§o de Venda Sugerido, a margem de lucro Ã©:

Margem
=
Pre
c
Â¸
oÂ deÂ Venda
âˆ’
CustoÂ Total
Pre
c
Â¸
oÂ deÂ Venda
Ã—
100
Margem= 
Pre 
c
Â¸
â€‹
 oÂ deÂ Venda
Pre 
c
Â¸
â€‹
 oÂ deÂ Vendaâˆ’CustoÂ Total
â€‹
 Ã—100
CMV (%)

CMV
=
CustoÂ Total
Pre
c
Â¸
oÂ deÂ Venda
Ã—
100
CMV= 
Pre 
c
Â¸
â€‹
 oÂ deÂ Venda
CustoÂ Total
â€‹
 Ã—100
PreÃ§o de Venda Sugerido (R$)
Se o usuÃ¡rio quer uma margem de X%, o sistema calcula:

Pre
c
Â¸
oÂ deÂ VendaÂ Sugerido
=
CustoÂ Total
1
âˆ’
(
MargemÂ Desejada
/
100
)
Pre 
c
Â¸
â€‹
 oÂ deÂ VendaÂ Sugerido= 
1âˆ’(MargemÂ Desejada/100)
CustoÂ Total
â€‹
 
PreÃ§o de Venda Praticado (R$)

O usuÃ¡rio pode inserir manualmente.
Se for menor que o custo total, o sistema alerta que hÃ¡ prejuÃ­zo (CMV > 100%).
Se for muito prÃ³ximo ao custo, o sistema alerta margem perigosa.
2. Produto IntermediÃ¡rio
Custo Total (R$)
Soma de todos os ingredientes (preÃ§os lÃ­quidos).

Rendimento em PorÃ§Ãµes (Opcional)

Se for algo como â€œmolho que rende 5 litrosâ€, pode-se definir que cada litro Ã© 1 â€œporÃ§Ã£oâ€ intermediÃ¡ria.
Custo por PorÃ§Ã£o (R$) (Opcional)

CustoÂ porÂ Por
c
Â¸
a
Ëœ
o
=
CustoÂ Total
NÂºÂ deÂ Por
c
Â¸
o
Ëœ
esÂ deÂ Uso
CustoÂ porÂ Por 
c
Â¸
â€‹
  
a
Ëœ
 o= 
NÂºÂ deÂ Por 
c
Â¸
â€‹
  
o
Ëœ
 esÂ deÂ Uso
CustoÂ Total
â€‹
 
Custo por kg (R$)
Se o produto intermediÃ¡rio tiver peso final:

CustoÂ porÂ kg
=
CustoÂ Total
PesoÂ L
Ä±
ËŠ
quidoÂ FinalÂ (emÂ kg)
CustoÂ porÂ kg= 
PesoÂ L 
Ä±
ËŠ
 quidoÂ FinalÂ (emÂ kg)
CustoÂ Total
â€‹
 
NÃ£o hÃ¡ margem de lucro ou preÃ§o de venda pois nÃ£o Ã© comercializado diretamente, mas sim utilizado como insumo em Produto Pronto.

Modal de CriaÃ§Ã£o / EdiÃ§Ã£o de Ficha TÃ©cnica
SeleÃ§Ã£o do Tipo de Produto

Toggle â€œProduto Prontoâ€ (verde) ou â€œProduto IntermediÃ¡rioâ€ (azul).
Campos de Entrada

Nome do Produto
Categoria
Imagem (opcional)
Rendimento
Em Peso Final (ex.: 2 kg final) e/ou
Em PorÃ§Ãµes (ex.: 8 porÃ§Ãµes).
Lista de Ingredientes

Tabela com colunas:
CÃ³digo do insumo
Nome do insumo
Quantidade Bruta
Unidade (kg, g, l, un etc.)
PreÃ§o Bruto (puxado do estoque)
Rendimento (%) ou campo para inserir peso lÃ­quido
Quantidade LÃ­quida (calculada)
PreÃ§o LÃ­quido (calculado)
CÃ¡lculo de Custos

Custo Total (R$)
Custo por PorÃ§Ã£o (R$)
Custo por kg (R$)
No caso de Produto Pronto:
Margem de Lucro (%)
PreÃ§o de Venda Sugerido (R$)
PreÃ§o de Venda Praticado (R$) (caso o usuÃ¡rio queira inserir manualmente)
CMV (%)
BotÃµes de AÃ§Ã£o

Salvar e Fechar
Duplicar Ficha (cria uma cÃ³pia idÃªntica para variaÃ§Ãµes)
Cancelar (descartar alteraÃ§Ãµes)
SubstituiÃ§Ã£o de Ingredientes e Avisos de Falta de Estoque
DetecÃ§Ã£o de Falta de Estoque

Se, na hora de produÃ§Ã£o ou venda, o sistema detectar que determinado insumo (ou produto intermediÃ¡rio) estÃ¡ zerado, ele exibirÃ¡ uma mensagem:
â€œNÃ£o hÃ¡ estoque suficiente de [Insumo X]. Deseja substituir por outro disponÃ­vel?â€
Caso exista um produto substituto cadastrado, o sistema faz a troca automÃ¡tica do insumo.
Substituto Definido no Estoque

O usuÃ¡rio pode cadastrar insumos substitutos na prÃ³pria ficha tÃ©cnica ou no cadastro de insumos, permitindo trocas automÃ¡ticas.
Quando o sistema retorna ao insumo principal no estoque (caso reabasteÃ§a), a ficha tÃ©cnica volta ao insumo original.
IntegraÃ§Ã£o com Outras PÃ¡ginas
GestÃ£o de Estoque (#04)

Quando o usuÃ¡rio produz um Produto IntermediÃ¡rio, ele retira insumos do Estoque Fixo e gera um novo item no Estoque de Produtos IntermediÃ¡rios.
Quando um Produto Pronto Ã© vendido, o sistema verifica a ficha tÃ©cnica e abate insumos ou produtos intermediÃ¡rios do estoque.
Registro de Vendas (#11)

Ao registrar a venda de um Produto Pronto, o sistema faz a saÃ­da automÃ¡tica dos ingredientes (caso o registro de movimentaÃ§Ã£o automÃ¡tica esteja habilitado).
Pode haver um alerta se a venda exceder o estoque disponÃ­vel de algum insumo ou intermediÃ¡rio.
RelatÃ³rios (CMV) (#12)

O CMV TeÃ³rico Ã© calculado com base nessas fichas tÃ©cnicas.
O CMV Real Ã© calculado com base nas movimentaÃ§Ãµes efetivas do estoque.
DiferenÃ§as podem indicar desperdÃ­cio, erros de registro ou variaÃ§Ã£o de rendimento.
SugestÃµes de OtimizaÃ§Ã£o de Custos
ComparaÃ§Ã£o de Fornecedores

Se um insumo tiver grande peso no custo total, o sistema sugere buscar melhores cotaÃ§Ãµes (#05) ou considerar outro fornecedor.
AnÃ¡lise de Rendimento

Se determinado ingrediente estiver com rendimento abaixo do normal, o sistema alerta perda exagerada.
Sugere padronizar o processo (fichas tÃ©cnicas + treinamento).
Ajuste de PreÃ§o de Venda

Se o custo total subiu, o sistema sugere reajustar o preÃ§o para manter a margem desejada.
Ou sugere um substituto mais barato para manter o preÃ§o de venda.
EstatÃ­sticas EspecÃ­ficas da Ficha TÃ©cnica
HistÃ³rico de Custos: evoluÃ§Ã£o do custo total ao longo do tempo (quando os insumos sofrem variaÃ§Ã£o de preÃ§o).
HistÃ³rico de VariaÃ§Ã£o de Rendimento: se o usuÃ¡rio alterar o rendimento frequentemente, o sistema registra e mostra possÃ­veis inconsistÃªncias.
Alertas de Itens CrÃ­ticos: se algum insumo subiu 30% de preÃ§o, o sistema alerta na ficha que pode estar â€œinflandoâ€ o custo.
Exemplo de Fluxo Completo
O usuÃ¡rio cadastra uma Ficha TÃ©cnica de â€œPizza Grandeâ€:

Define que rende 8 fatias.
Adiciona farinha, fermento, molho (este pode ser um produto intermediÃ¡rio, ex.: â€œMolho Baseâ€), queijo, presunto etc.
Define a quantidade bruta de cada ingrediente e o rendimento (%).
O sistema calcula a quantidade lÃ­quida e o preÃ§o lÃ­quido de cada insumo.
No final, gera:
Custo Total = R$ 15,00
Custo por PorÃ§Ã£o (fatia) = R$ 1,87
PreÃ§o de Venda Sugerido = R$ 40,00 (caso deseje 60% de margem, por exemplo)
CMV = 37,5% caso o usuÃ¡rio venda a R$ 40,00.
Quando o usuÃ¡rio registra uma venda de 10 pizzas, o sistema abate automaticamente a quantidade de farinha, queijo, presunto etc. do estoque (se a opÃ§Ã£o de movimentaÃ§Ã£o automÃ¡tica estiver ativa).

Se o usuÃ¡rio produz â€œMolho Baseâ€ (produto intermediÃ¡rio), retira tomates, cebola, alho do Estoque Fixo e gera um item â€œMolho Base (2 litros)â€ no Estoque de IntermediÃ¡rios. Se outra ficha tÃ©cnica (â€œPizza Grandeâ€) utilizar â€œMolho Baseâ€, entÃ£o a pizza retira do Estoque de IntermediÃ¡rios.

ConclusÃ£o Detalhada
A PÃ¡gina de Ficha TÃ©cnica (#10) Ã© complexa e central, pois interliga:

Estoque (#04)
Insumos (#03)
Registro de Vendas (#11)
CMV (#12)
CÃ¡lculos Fundamentais:

Rendimento (%) â€“ Calculado ingrediente a ingrediente, influenciando diretamente o custo.
Custo Total â€“ Soma dos custos lÃ­quidos dos ingredientes.
Custo por PorÃ§Ã£o/Kg â€“ Fundamental para precificaÃ§Ã£o.
Margem de Lucro (%) / CMV (%) â€“ Aplica-se apenas a Produto Pronto.
SubstituiÃ§Ã£o de Insumos â€“ Se faltou ingrediente, o sistema pede troca ou indica substituto.
O sistema faz ajustes automÃ¡ticos de custo conforme:

VariaÃ§Ã£o de preÃ§os (novas cotaÃ§Ãµes, Ãºltimas compras, promoÃ§Ãµes etc.).
MudanÃ§as de rendimento (se o usuÃ¡rio atualizar a ficha com novos valores de perda).
Alertas de custo excessivo, perda de margem ou CMV alto ficam destacados na interface.

PÃ¡gina 11 â€“ Registro de Vendas
(CÃ³digo: #11)

Objetivo Principal
A pÃ¡gina de Registro de Vendas permitirÃ¡ que o usuÃ¡rio:

âœ… Registre vendas de produtos prontos e combos com base nas fichas tÃ©cnicas cadastradas (#10).
âœ… Deduz automaticamente os insumos utilizados nos produtos e combos vendidos, afetando o estoque fixo e o estoque de intermediÃ¡rios (#04).
âœ… Calcule automaticamente o CMV Real com base nos insumos retirados do estoque.
âœ… Permita o cadastro de combos, onde o sistema:

Identifica automaticamente os ingredientes de cada produto incluso no combo.
Deduz automaticamente cada insumo do estoque conforme a ficha tÃ©cnica dos produtos individuais.
âœ… Organize as vendas por data (listas diÃ¡rias).
âœ… Permita ajustes manuais de valores, correÃ§Ã£o de vendas e substituiÃ§Ã£o de insumos (se faltar estoque).
âœ… Analise o impacto das vendas na margem de lucro e CMV por produto, por combo e por dia.
Tecnologias e DependÃªncias NecessÃ¡rias:
âœ… Next.js â€“ Para renderizaÃ§Ã£o SSR e otimizaÃ§Ã£o de desempenho.
âœ… React Query â€“ Para busca e atualizaÃ§Ã£o de dados em tempo real.
âœ… Zustand â€“ Para gerenciamento de estado e cache das vendas registradas.
âœ… Tailwind CSS â€“ Para estilizaÃ§Ã£o rÃ¡pida e responsiva.
âœ… Shadcn UI â€“ Para construÃ§Ã£o de componentes como modais, inputs, botÃµes e tabelas.
âœ… Framer Motion â€“ Para efeitos de transiÃ§Ã£o e animaÃ§Ã£o.
âœ… Radix UI â€“ Para popovers, dropdowns e seleÃ§Ã£o de opÃ§Ãµes.
âœ… Zod â€“ Para validaÃ§Ã£o dos dados de entrada e resposta da API.
âœ… Lucide-react â€“ Para Ã­cones e indicadores visuais.
âœ… Day.js â€“ Para manipulaÃ§Ã£o de datas e horÃ¡rios.
âœ… Chart.js â€“ Para anÃ¡lise de CMV, margem de lucro e faturamento.
âœ… WhatsApp API (Web) â€“ Para envio de relatÃ³rios ou confirmaÃ§Ã£o de vendas.

ðŸ’¡ Como os Dados SÃ£o Relacionados
âœ… Os produtos disponÃ­veis para venda (incluindo combos) serÃ£o puxados automaticamente das Fichas TÃ©cnicas (#10).
âœ… O preÃ§o sugerido serÃ¡ baseado no preÃ§o definido na ficha tÃ©cnica, mas o usuÃ¡rio poderÃ¡ inserir um valor diferente.
âœ… Se o preÃ§o de venda for menor que o custo â†’ O sistema recalcula a margem com base no valor real de venda.
âœ… O sistema permitirÃ¡ registro manual ou importaÃ§Ã£o automatizada de vendas por meio de API de POS (ex.: integraÃ§Ã£o com sistemas de caixa).
âœ… Combos serÃ£o tratados como produtos compostos:

O sistema puxa os ingredientes de cada item do combo (conforme a ficha tÃ©cnica de cada produto).
O sistema calcula automaticamente o impacto nos insumos e estoque com base nos ingredientes individuais.
Componentes Visuais e Estrutura
A pÃ¡gina serÃ¡ organizada em 4 seÃ§Ãµes principais:

ðŸ”¹ Primeira SeÃ§Ã£o: CabeÃ§alho da PÃ¡gina
TÃ­tulo: "Registro de Vendas"
Campo de Busca:
Permite buscar pelo nome do produto, combo ou categoria.
Busca em tempo real com debounce de 500ms.
Dropdown de Filtros:
Filtro por:
Nome do produto
Categoria
Data da venda
CMV (%)
Margem de lucro (%)
Valor total
BotÃ£o "Registrar Nova Venda":
Abre o Modal de Registro de Venda.
Permite registro de produtos prontos e combos.
ðŸ”¹ Segunda SeÃ§Ã£o: Lista de Vendas Registradas (Organizada por Data)
âœ… Exibida em formato de lista â†’ Cada data serÃ¡ exibida como uma aba expansÃ­vel.
âœ… Os produtos vendidos aparecerÃ£o como itens de linha dentro da aba.

âœ… OrganizaÃ§Ã£o das Listas por Data:

As datas estarÃ£o ordenadas do dia mais recente para o mais antigo.
Cada data serÃ¡ exibida com:
Data Completa
Total de Faturamento (valor total vendido no dia)
Quantidade Total de Produtos Vendidos
CMV MÃ©dio (%)
Margem MÃ©dia (%)
âœ… Colunas de Cada Item Vendido:

Campo	DescriÃ§Ã£o	Comportamento
Data/Hora	Data e hora da venda registrada	Formatada com Day.js
Produto/Combo	Nome do produto ou combo vendido	ClicÃ¡vel â†’ Abre detalhes da ficha tÃ©cnica associada
Quantidade	Quantidade vendida	Campo numÃ©rico â€“ permite ajuste
PreÃ§o UnitÃ¡rio (R$)	PreÃ§o praticado na venda	Campo numÃ©rico â€“ permite ajuste
PreÃ§o Total (R$)	PreÃ§o total da venda (Qtd x PreÃ§o UnitÃ¡rio)	Calculado automaticamente
CMV (%)	Custo de Mercadoria Vendida	Calculado automaticamente
Margem (%)	Margem de lucro na venda	Calculado automaticamente
AÃ§Ãµes	Editar, Excluir, Substituir Insumo	Abertura de modais
âœ… Comportamento dos Itens Vendidos:

O usuÃ¡rio pode editar diretamente a quantidade vendida ou o preÃ§o praticado.
Se o preÃ§o praticado for menor que o custo total â†’ Sistema alerta margem negativa.
Se o preÃ§o praticado for muito maior que o preÃ§o sugerido â†’ Sistema alerta possibilidade de erro de digitaÃ§Ã£o.
Se o usuÃ¡rio alterar a quantidade â†’ O sistema recalcula automaticamente o impacto no estoque.
ðŸ”¹ Terceira SeÃ§Ã£o: EstatÃ­sticas de Vendas
âœ… EstatÃ­sticas atualizadas em tempo real com base nas vendas registradas:

Faturamento Total (R$) â€“ Soma total das vendas no perÃ­odo selecionado.
Quantidade de Produtos Vendidos â€“ Soma de todas as unidades vendidas.
Margem MÃ©dia (%) â€“ MÃ©dia das margens de lucro registradas por produto.
CMV MÃ©dio (%) â€“ MÃ©dia ponderada do CMV com base nos preÃ§os de venda reais.
Produtos Mais Vendidos â€“ Lista dos 5 produtos mais vendidos no perÃ­odo.
Combos Mais Vendidos â€“ Lista dos combos mais vendidos no perÃ­odo.
Produtos com Maior CMV â€“ Produtos com maior custo em relaÃ§Ã£o ao preÃ§o de venda.
Produtos com Menor Margem â€“ Produtos com margem negativa ou muito baixa.
GrÃ¡fico de EvoluÃ§Ã£o de Vendas â€“ Linha de evoluÃ§Ã£o com faturamento por dia.
ðŸ“‹ Modal de Registro de Venda
ðŸ‘‰ Aberto ao clicar em "Registrar Nova Venda"

Campos do Modal:
âœ… Data da Venda â†’ Data e hora.
âœ… Produto Vendido â†’ Dropdown dinÃ¢mico com todos os produtos cadastrados na ficha tÃ©cnica, incluindo combos.
âœ… Quantidade Vendida â†’ Campo numÃ©rico.
âœ… PreÃ§o UnitÃ¡rio â†’ SugestÃ£o com base na ficha tÃ©cnica, mas editÃ¡vel pelo usuÃ¡rio.
âœ… PreÃ§o Total â†’ Calculado automaticamente (Qtd x PreÃ§o UnitÃ¡rio).
âœ… CMV (%) â†’ Calculado automaticamente com base nos custos registrados na ficha tÃ©cnica.
âœ… Margem (%) â†’ Calculado automaticamente.

Comportamento do Modal:
Se for um combo, o sistema exibirÃ¡ o preÃ§o e os itens incluÃ­dos.
Salvar e Confirmar â†’ A venda serÃ¡ registrada, o sistema abaterÃ¡ automaticamente os ingredientes do estoque.
Cancelar â†’ Fecha o modal sem registrar nada.
âœ… ConclusÃ£o:
âœ… PÃ¡gina dinÃ¢mica, com impacto direto no estoque e relatÃ³rios.
âœ… Sistema inteligente de cÃ¡lculo de CMV e margem em tempo real.
âœ… Combos tratados como categorias compostas com deduÃ§Ã£o automÃ¡tica de insumos.

RelatÃ³rios â€“ Aba 1 â€“ CMV
(CÃ³digo: #12.1)

Objetivo Principal
A aba de CMV permitirÃ¡ que o usuÃ¡rio:

âœ… Compare o CMV TeÃ³rico com o CMV Real para entender se o controle de custos estÃ¡ alinhado com o planejado.
âœ… Identifique diferenÃ§as entre o valor previsto e o valor real gasto com insumos.
âœ… Receba alertas automÃ¡ticos sobre variaÃ§Ãµes inesperadas nos custos.
âœ… AnÃ¡lise de causas para divergÃªncia entre CMV TeÃ³rico e CMV Real (desperdÃ­cio, erro de registro, variaÃ§Ã£o de preÃ§o de insumo).
âœ… SugestÃµes automÃ¡ticas para reduzir o CMV, incluindo:

Troca de fornecedor.
Ajuste de ficha tÃ©cnica.
Recalcular preÃ§o de venda sugerido.
Tecnologias e DependÃªncias NecessÃ¡rias:
âœ… Next.js â€“ Para renderizaÃ§Ã£o SSR e otimizaÃ§Ã£o de desempenho.
âœ… React Query â€“ Para busca e atualizaÃ§Ã£o de dados em tempo real.
âœ… Zustand â€“ Para gerenciamento de estado e cache dos relatÃ³rios.
âœ… Tailwind CSS â€“ Para estilizaÃ§Ã£o rÃ¡pida e responsiva.
âœ… Shadcn UI â€“ Para construÃ§Ã£o de componentes como tabelas, grÃ¡ficos e inputs.
âœ… Framer Motion â€“ Para efeitos de transiÃ§Ã£o e animaÃ§Ã£o.
âœ… Radix UI â€“ Para popovers, dropdowns e seleÃ§Ã£o de opÃ§Ãµes.
âœ… Zod â€“ Para validaÃ§Ã£o de entrada de dados.
âœ… Lucide-react â€“ Para Ã­cones e indicadores visuais.
âœ… Day.js â€“ Para manipulaÃ§Ã£o de datas e perÃ­odos.
âœ… Chart.js â€“ Para grÃ¡ficos de evoluÃ§Ã£o de CMV e custos.
âœ… WhatsApp API (Web) â€“ Para envio de relatÃ³rios e anÃ¡lise externa.

ðŸ’¡ DefiniÃ§Ãµes Fundamentais de CMV
CMV TeÃ³rico
ðŸ‘‰ Custo baseado na ficha tÃ©cnica e na quantidade registrada de vendas.
ðŸ‘‰ Calculado com base nos insumos utilizados na ficha tÃ©cnica, considerando o preÃ§o mÃ©dio de compra e o rendimento informado.
ðŸ‘‰ Representa o custo ideal em uma situaÃ§Ã£o de operaÃ§Ã£o sem perdas ou variaÃ§Ã£o de rendimento.

CMV Real
ðŸ‘‰ Custo efetivo registrado no estoque apÃ³s as vendas ou preparo de produto intermediÃ¡rio.
ðŸ‘‰ Inclui fatores reais como desperdÃ­cio, quebra de estoque, erro de registro e variaÃ§Ã£o de preÃ§o de compra.
ðŸ‘‰ Se o CMV Real > CMV TeÃ³rico â†’ Indica problemas operacionais, desperdÃ­cio ou variaÃ§Ã£o de preÃ§o inesperada.

FÃ³rmulas de CMV
1. CÃ¡lculo de CMV Real (Baseado no estoque)
CMVÂ Real
=
EstoqueÂ Inicial
+
Compras
âˆ’
EstoqueÂ Final
CMVÂ Real=EstoqueÂ Inicial+Comprasâˆ’EstoqueÂ Final
Estoque Inicial = Valor dos insumos disponÃ­veis no inÃ­cio do perÃ­odo.
Compras = Valor total das compras de insumos no perÃ­odo.
Estoque Final = Valor dos insumos disponÃ­veis ao final do perÃ­odo.
2. CÃ¡lculo de CMV TeÃ³rico (Baseado nas Fichas TÃ©cnicas)
CMVÂ Te
o
ËŠ
rico
=
âˆ‘
(
CustoÂ porÂ Por
c
Â¸
a
Ëœ
o
Ã—
QuantidadeÂ Vendida
)
CMVÂ Te 
o
ËŠ
 rico=âˆ‘(CustoÂ porÂ Por 
c
Â¸
â€‹
  
a
Ëœ
 oÃ—QuantidadeÂ Vendida)
Custo por PorÃ§Ã£o = Valor unitÃ¡rio de cada ingrediente na ficha tÃ©cnica, considerando rendimento e preÃ§o mÃ©dio.
Quantidade Vendida = Total de unidades vendidas no perÃ­odo selecionado.
3. DiferenÃ§a entre CMV Real e TeÃ³rico
Diferen
c
Â¸
a
=
CMVÂ Real
âˆ’
CMVÂ Te
o
ËŠ
rico
Diferen 
c
Â¸
â€‹
 a=CMVÂ Realâˆ’CMVÂ Te 
o
ËŠ
 rico
Se a diferenÃ§a for positiva â†’ Houve custo maior que o esperado â†’ Problema com desperdÃ­cio ou variaÃ§Ã£o de preÃ§o.
Se a diferenÃ§a for negativa â†’ Houve custo menor que o esperado â†’ PossÃ­vel erro de registro ou ajuste de preÃ§o.

Componentes Visuais e Estrutura
A pÃ¡gina serÃ¡ organizada em 4 seÃ§Ãµes principais:

ðŸ”¹ Primeira SeÃ§Ã£o: CabeÃ§alho da PÃ¡gina
TÃ­tulo: "RelatÃ³rio de CMV"
Campo de Busca:
Permite buscar por produto, combo, fornecedor ou categoria.
Busca em tempo real com debounce de 500ms.
Dropdown de Filtros:
PerÃ­odo (hoje, semanal, mensal, anual ou personalizado).
Produto ou combo.
Categoria.
Fornecedor.
BotÃ£o de ExportaÃ§Ã£o:
Exportar para Excel ou PDF.
ðŸ”¹ Segunda SeÃ§Ã£o: Resumo de CMV
âœ… EstatÃ­sticas resumidas do perÃ­odo selecionado:

Indicador	Valor	DiferenÃ§a
CMV TeÃ³rico (%)	38,5%	-
CMV Real (%)	42,7%	+4,2% (Excesso de custo)
DiferenÃ§a de Custo (R$)	R$ 850,00	Alerta
DesperdÃ­cio (%)	5%	Alerta de excesso de perda
Margem Bruta (%)	58%	Queda de margem de lucro
âœ… Comportamento:

Se o CMV Real for maior que o CMV TeÃ³rico â†’ Sistema destaca em vermelho com alerta de variaÃ§Ã£o negativa.
Se o CMV Real for menor que o CMV TeÃ³rico â†’ Sistema destaca em verde com possibilidade de otimizaÃ§Ã£o de custo.
ðŸ”¹ Terceira SeÃ§Ã£o: GrÃ¡fico de EvoluÃ§Ã£o de CMV
âœ… GrÃ¡fico de linha exibindo a variaÃ§Ã£o do CMV Real e CMV TeÃ³rico ao longo do tempo.
âœ… Permite alternar entre visualizaÃ§Ã£o por dia, semana e mÃªs.
âœ… Pontos crÃ­ticos (desvios) sÃ£o destacados em vermelho.
âœ… Exemplo:

Se um insumo subiu 20% de preÃ§o â†’ Ponto crÃ­tico destacado em vermelho.
Se houve desperdÃ­cio acima de 5% â†’ Ponto crÃ­tico destacado em vermelho.
ðŸ”¹ Quarta SeÃ§Ã£o: Tabela Detalhada de CMV por Produto
âœ… Exibida em formato de tabela expansÃ­vel.

âœ… Colunas:

Produto	Categoria	CMV TeÃ³rico (%)	CMV Real (%)	DiferenÃ§a (%)	Perda (R$)	Status
Pizza Grande	Pizza	35%	42%	+7%	R$ 120,00	Alerta
Molho Base	Produto IntermediÃ¡rio	20%	25%	+5%	R$ 20,00	Alerta
âœ… Comportamento:

Linhas com variaÃ§Ã£o maior que 5% sÃ£o destacadas em vermelho.
Produtos com margem abaixo de 15% sÃ£o destacados em amarelo.
O usuÃ¡rio pode clicar em cada produto â†’ Abre o detalhamento da ficha tÃ©cnica.
âœ… ConclusÃ£o:
âœ… RelatÃ³rio detalhado com foco em otimizaÃ§Ã£o de custo.
âœ… Sistema destaca automaticamente variaÃ§Ãµes e desperdÃ­cios.
âœ… SugestÃµes de ajuste baseadas em preÃ§o, rendimento e estoque.

RelatÃ³rios â€“ Aba 2 â€“ VariaÃ§Ã£o de PreÃ§os
(CÃ³digo: #12.2)

Objetivo Principal
A aba de VariaÃ§Ã£o de PreÃ§os permitirÃ¡ que o usuÃ¡rio:

âœ… Visualize a evoluÃ§Ã£o dos preÃ§os de compra ao longo de um perÃ­odo definido (diÃ¡rio, semanal, mensal ou personalizado).
âœ… Compare preÃ§os mÃ©dios por fornecedor para encontrar oportunidades de economia.
âœ… Avalie o impacto de variaÃ§Ã£o de preÃ§os nos custos de produÃ§Ã£o e no CMV.
âœ… Receba sugestÃµes automÃ¡ticas para:

SubstituiÃ§Ã£o de fornecedores em caso de aumento brusco de preÃ§os.
Ajuste de preÃ§o de venda para manter a margem de lucro.
RevisÃ£o de fichas tÃ©cnicas para trocar insumos por opÃ§Ãµes mais baratas.
Tecnologias e DependÃªncias NecessÃ¡rias:
âœ… Next.js â€“ Para renderizaÃ§Ã£o SSR e otimizaÃ§Ã£o de desempenho.
âœ… React Query â€“ Para busca e atualizaÃ§Ã£o de dados em tempo real.
âœ… Zustand â€“ Para gerenciamento de estado e cache dos relatÃ³rios.
âœ… Tailwind CSS â€“ Para estilizaÃ§Ã£o rÃ¡pida e responsiva.
âœ… Shadcn UI â€“ Para construÃ§Ã£o de componentes como tabelas, grÃ¡ficos e inputs.
âœ… Framer Motion â€“ Para efeitos de transiÃ§Ã£o e animaÃ§Ã£o.
âœ… Radix UI â€“ Para popovers, dropdowns e seleÃ§Ã£o de opÃ§Ãµes.
âœ… Zod â€“ Para validaÃ§Ã£o de entrada de dados.
âœ… Lucide-react â€“ Para Ã­cones e indicadores visuais.
âœ… Day.js â€“ Para manipulaÃ§Ã£o de datas e perÃ­odos.
âœ… Chart.js â€“ Para grÃ¡ficos de evoluÃ§Ã£o de preÃ§os.
âœ… WhatsApp API (Web) â€“ Para envio de relatÃ³rios e anÃ¡lise externa.

ðŸ’¡ Como os Dados SÃ£o Relacionados
âœ… Os preÃ§os mÃ©dios serÃ£o extraÃ­dos automaticamente dos dados registrados na pÃ¡gina Pedidos (#09).
âœ… Cada variaÃ§Ã£o de preÃ§o serÃ¡ registrada com base na data de compra e no fornecedor.
âœ… Os preÃ§os mÃ©dios serÃ£o exibidos por:

Insumo
Fornecedor
Categoria
PerÃ­odo
âœ… O sistema usarÃ¡ esses dados para recalcular:

CMV TeÃ³rico â†’ Se o preÃ§o de um insumo variar, o sistema sugere ajuste na ficha tÃ©cnica.
Margem de Lucro â†’ Se o preÃ§o mÃ©dio aumentar, o sistema sugere alteraÃ§Ã£o no preÃ§o de venda para manter a margem.
Componentes Visuais e Estrutura
A pÃ¡gina serÃ¡ organizada em 4 seÃ§Ãµes principais:

ðŸ”¹ Primeira SeÃ§Ã£o: CabeÃ§alho da PÃ¡gina
TÃ­tulo: "RelatÃ³rio de VariaÃ§Ã£o de PreÃ§os"
Campo de Busca:
Permite buscar por produto, fornecedor ou categoria.
Busca em tempo real com debounce de 500ms.
Dropdown de Filtros:
Filtro por PerÃ­odo (hoje, semanal, mensal, anual ou personalizado).
Filtro por Produto.
Filtro por Fornecedor.
Filtro por Categoria.
BotÃ£o de ExportaÃ§Ã£o:
Exportar para Excel ou PDF.
OpÃ§Ã£o de exportar apenas os produtos que tiveram aumento de preÃ§o ou queda de preÃ§o.
ðŸ”¹ Segunda SeÃ§Ã£o: Resumo da VariaÃ§Ã£o de PreÃ§os
âœ… EstatÃ­sticas resumidas da variaÃ§Ã£o de preÃ§os no perÃ­odo selecionado:

Indicador	Valor	DiferenÃ§a
PreÃ§o MÃ©dio de Compra	R$ 12,50	+2,5% (em relaÃ§Ã£o ao perÃ­odo anterior)
Produtos com Alta de PreÃ§o (%)	32%	Alerta em vermelho
Produtos com Queda de PreÃ§o (%)	18%	Destacado em verde
DiferenÃ§a MÃ©dia (%)	+1,7%	Alerta em amarelo
Fornecedor com Maior Alta (%)	Fornecedor A	+8%
Fornecedor com Maior Queda (%)	Fornecedor C	-5%
âœ… Comportamento:

Se a variaÃ§Ã£o mÃ©dia de preÃ§os for maior que 5% â†’ Sistema gera alerta em vermelho.
Se a variaÃ§Ã£o for positiva para o usuÃ¡rio (reduÃ§Ã£o de preÃ§os) â†’ Sistema destaca em verde.
ðŸ”¹ Terceira SeÃ§Ã£o: GrÃ¡fico de EvoluÃ§Ã£o de PreÃ§os
âœ… GrÃ¡fico de linha exibindo a evoluÃ§Ã£o dos preÃ§os mÃ©dios de compra ao longo do tempo.
âœ… Permite alternar entre visualizaÃ§Ã£o por dia, semana e mÃªs.
âœ… Linhas com tendÃªncias de alta sÃ£o destacadas em vermelho.
âœ… Linhas com tendÃªncias de queda sÃ£o destacadas em verde.
âœ… Exemplo:

Se o preÃ§o de queijo muÃ§arela subiu 15% em um mÃªs â†’ Linha vermelha com alerta no ponto crÃ­tico.
Se o preÃ§o de presunto caiu 10% â†’ Linha verde com alerta de oportunidade de compra.
ðŸ”¹ Quarta SeÃ§Ã£o: Tabela Detalhada de VariaÃ§Ã£o de PreÃ§os
âœ… Exibida em formato de tabela expansÃ­vel.

âœ… Colunas:

Produto	Fornecedor	PreÃ§o MÃ©dio Atual	PreÃ§o MÃ©dio Anterior	VariaÃ§Ã£o (%)	Status
Queijo MuÃ§arela	Fornecedor A	R$ 32,00	R$ 28,00	+14%	Alerta
Presunto	Fornecedor C	R$ 15,00	R$ 17,00	-12%	Queda
Tomate	Fornecedor B	R$ 6,00	R$ 5,50	+9%	Alerta
âœ… Comportamento:

Linhas com aumento maior que 5% â†’ Destacadas em vermelho com alerta.
Linhas com queda maior que 5% â†’ Destacadas em verde com recomendaÃ§Ã£o de ajuste.
O usuÃ¡rio pode clicar no produto â†’ Abre um modal com o histÃ³rico de preÃ§os detalhado por fornecedor.
ðŸ“‹ Modal de HistÃ³rico de PreÃ§os
ðŸ‘‰ Aberto ao clicar em um produto na tabela

âœ… Exibe o histÃ³rico completo de preÃ§os do insumo:

Data da compra
Fornecedor
PreÃ§o de Compra
VariaÃ§Ã£o (%) em relaÃ§Ã£o Ã  compra anterior
âœ… SugestÃµes AutomÃ¡ticas:

Se um fornecedor oferece um preÃ§o menor â†’ O sistema sugere ajuste de ficha tÃ©cnica.
Se o preÃ§o subiu muito â†’ O sistema sugere buscar cotaÃ§Ã£o com outro fornecedor.
âœ… ConclusÃ£o:
âœ… RelatÃ³rio detalhado de comportamento de preÃ§os.
âœ… SugestÃµes automÃ¡ticas de otimizaÃ§Ã£o de custos.
âœ… Sistema detecta e destaca variaÃ§Ãµes anormais de preÃ§o.
âœ… Impacto direto nos cÃ¡lculos de CMV e ficha tÃ©cnica.

RelatÃ³rios â€“ Aba 3 â€“ ProjeÃ§Ã£o de Demanda
(CÃ³digo: #12.3)

Objetivo Principal
A aba de ProjeÃ§Ã£o de Demanda permitirÃ¡ que o usuÃ¡rio:

âœ… Preveja automaticamente o comportamento futuro das vendas com base no histÃ³rico de vendas.
âœ… Simule diferentes cenÃ¡rios de crescimento para planejar estoque e produÃ§Ã£o de forma mais eficiente.
âœ… Avalie o impacto das projeÃ§Ãµes de demanda nos seguintes fatores:

Consumo de insumos.
Custo de produÃ§Ã£o (CMV).
Margem de lucro.
Faturamento bruto e lÃ­quido.
âœ… Receba sugestÃµes automÃ¡ticas para ajustar preÃ§os, fichas tÃ©cnicas e quantidades compradas com base na demanda futura prevista.
Tecnologias e DependÃªncias NecessÃ¡rias:
âœ… Next.js â€“ Para renderizaÃ§Ã£o SSR e otimizaÃ§Ã£o de desempenho.
âœ… React Query â€“ Para busca e atualizaÃ§Ã£o de dados em tempo real.
âœ… Zustand â€“ Para gerenciamento de estado e cache dos relatÃ³rios.
âœ… Tailwind CSS â€“ Para estilizaÃ§Ã£o rÃ¡pida e responsiva.
âœ… Shadcn UI â€“ Para construÃ§Ã£o de componentes como tabelas, grÃ¡ficos e inputs.
âœ… Framer Motion â€“ Para efeitos de transiÃ§Ã£o e animaÃ§Ã£o.
âœ… Radix UI â€“ Para popovers, dropdowns e seleÃ§Ã£o de opÃ§Ãµes.
âœ… Zod â€“ Para validaÃ§Ã£o de entrada de dados.
âœ… Lucide-react â€“ Para Ã­cones e indicadores visuais.
âœ… Day.js â€“ Para manipulaÃ§Ã£o de datas e perÃ­odos.
âœ… Chart.js â€“ Para grÃ¡ficos de previsÃ£o de demanda.
âœ… Machine Learning Model â€“ Para anÃ¡lise preditiva com base em comportamento de vendas.

ðŸ’¡ Como os Dados SÃ£o Relacionados
âœ… A projeÃ§Ã£o serÃ¡ baseada nos seguintes fatores:

HistÃ³rico de vendas â†’ PÃ¡gina Registro de Vendas (#11).
Fichas tÃ©cnicas â†’ PÃ¡gina Ficha TÃ©cnica (#10) para definir consumo de insumos por unidade vendida.
PreÃ§os de compra â†’ PÃ¡gina Pedidos (#09) para calcular o impacto da variaÃ§Ã£o de preÃ§o nos custos futuros.
Estoque â†’ PÃ¡gina GestÃ£o de Estoque (#04) para garantir que os insumos estejam disponÃ­veis para o cenÃ¡rio de venda projetado.
âœ… A previsÃ£o usarÃ¡ um modelo de Machine Learning que analisarÃ¡ o comportamento passado e ajustarÃ¡ os padrÃµes com base em:

TendÃªncias sazonais (ex.: maior demanda por sorvetes no verÃ£o).
Dias da semana (ex.: maior venda de pizzas aos finais de semana).
PromoÃ§Ãµes passadas (ex.: picos de vendas em datas promocionais).
VariaÃ§Ã£o de preÃ§o de insumos (se o custo de um insumo subiu, a previsÃ£o ajusta o CMV).
Componentes Visuais e Estrutura
A pÃ¡gina serÃ¡ organizada em 4 seÃ§Ãµes principais:

ðŸ”¹ Primeira SeÃ§Ã£o: CabeÃ§alho da PÃ¡gina
TÃ­tulo: "ProjeÃ§Ã£o de Demanda"
Campo de Busca:
Permite buscar por produto, combo ou categoria.
Busca em tempo real com debounce de 500ms.
Dropdown de Filtros:
Filtro por PerÃ­odo (semanal, mensal, trimestral, anual ou personalizado).
Filtro por Produto ou Combo.
Filtro por Categoria.
Filtro por Fornecedor.
BotÃ£o de SimulaÃ§Ã£o:
Abre o Modal de SimulaÃ§Ã£o de CenÃ¡rio.
Permite configurar manualmente o crescimento esperado (ex.: +10% de demanda).
BotÃ£o de ExportaÃ§Ã£o:
Exportar relatÃ³rio para Excel ou PDF.
OpÃ§Ã£o de exportar apenas os produtos com crescimento de demanda maior que X%.
ðŸ”¹ Segunda SeÃ§Ã£o: Resumo de ProjeÃ§Ã£o de Demanda
âœ… EstatÃ­sticas resumidas da previsÃ£o para o perÃ­odo selecionado:

Indicador	Valor Projetado	DiferenÃ§a (%)
Faturamento Projetado (R$)	R$ 50.000,00	+12%
CMV Projetado (%)	38%	+3%
Margem MÃ©dia (%)	62%	-2%
Produtos com Maior Crescimento (%)	Pizza Grande (+15%)	-
Produtos com Maior Queda (%)	Hamburguer (-5%)	-
âœ… Comportamento:

Se a projeÃ§Ã£o de CMV estiver acima de 5% â†’ Alerta em vermelho.
Se a margem mÃ©dia cair abaixo de 15% â†’ Alerta em vermelho.
Produtos com aumento significativo de demanda â†’ Sistema sugere ajuste de preÃ§o e controle de estoque.
ðŸ”¹ Terceira SeÃ§Ã£o: GrÃ¡fico de EvoluÃ§Ã£o de ProjeÃ§Ã£o de Demanda
âœ… GrÃ¡fico de linha exibindo a projeÃ§Ã£o de vendas para o perÃ­odo selecionado.
âœ… Permite alternar entre visualizaÃ§Ã£o por dia, semana e mÃªs.
âœ… Linhas com tendÃªncia de alta sÃ£o destacadas em verde.
âœ… Linhas com tendÃªncia de queda sÃ£o destacadas em vermelho.

âœ… Exemplo:

Se a venda de pizza grande estÃ¡ prevista para crescer 15% em agosto â†’ Linha verde com projeÃ§Ã£o destacada.
Se a venda de hamburguer estÃ¡ prevista para cair 5% â†’ Linha vermelha com recomendaÃ§Ã£o para ajuste de preÃ§o ou insumo.
ðŸ”¹ Quarta SeÃ§Ã£o: Tabela Detalhada de ProjeÃ§Ã£o de Demanda
âœ… Exibida em formato de tabela expansÃ­vel.

âœ… Colunas:

Produto	Categoria	Quantidade Atual	ProjeÃ§Ã£o de Venda	DiferenÃ§a (%)	Status
Pizza Grande	Pizza	200 unidades	230 unidades	+15%	Aumento
Hamburguer	Lanche	150 unidades	140 unidades	-5%	Queda
âœ… Comportamento:

Produtos com aumento de demanda maior que 10% â†’ Destacados em verde.
Produtos com queda de demanda maior que 5% â†’ Destacados em vermelho.
Se o aumento de demanda ultrapassar a capacidade de estoque â†’ Sistema gera um alerta sugerindo ajuste na compra.
ðŸ“‹ Modal de SimulaÃ§Ã£o de Crescimento de Demanda
ðŸ‘‰ Aberto ao clicar em "Simular Crescimento"

âœ… O usuÃ¡rio pode definir:

PerÃ­odo de simulaÃ§Ã£o (semanal, mensal, trimestral).
Taxa de crescimento (%) por produto ou categoria.
Definir preÃ§o de venda projetado (caso o usuÃ¡rio queira aumentar ou reduzir o preÃ§o).
âœ… Sistema calcula automaticamente:

Consumo previsto de insumos.
CMV projetado.
Margem de lucro esperada.
Impacto direto sobre o estoque.
âœ… ConclusÃ£o:
âœ… RelatÃ³rio de previsÃ£o de demanda altamente detalhado.
âœ… SugestÃµes automÃ¡ticas para ajustes de preÃ§o e estoque.
âœ… Sistema destaca variaÃ§Ãµes positivas e negativas de demanda.
âœ… Impacto direto na precificaÃ§Ã£o e controle de estoque.

RelatÃ³rios â€“ Aba 4 â€“ SugestÃµes de ReduÃ§Ã£o de Custos
(CÃ³digo: #12.4)

Objetivo Principal
A aba de SugestÃµes de ReduÃ§Ã£o de Custos permitirÃ¡ que o usuÃ¡rio:

âœ… Receba sugestÃµes automÃ¡ticas para reduzir custos com insumos e produÃ§Ã£o.
âœ… Otimize o CMV e a margem de lucro ajustando insumos, preÃ§os de venda e fornecedores.
âœ… Elimine desperdÃ­cios e erros operacionais com base na diferenÃ§a entre CMV Real e CMV TeÃ³rico.
âœ… Ajuste fichas tÃ©cnicas para corrigir custos excessivos.
âœ… Identifique fornecedores mais baratos para melhorar a competitividade nos preÃ§os de compra.

Tecnologias e DependÃªncias NecessÃ¡rias:
âœ… Next.js â€“ Para renderizaÃ§Ã£o SSR e otimizaÃ§Ã£o de desempenho.
âœ… React Query â€“ Para busca e atualizaÃ§Ã£o de dados em tempo real.
âœ… Zustand â€“ Para gerenciamento de estado e cache dos relatÃ³rios.
âœ… Tailwind CSS â€“ Para estilizaÃ§Ã£o rÃ¡pida e responsiva.
âœ… Shadcn UI â€“ Para construÃ§Ã£o de componentes como tabelas, grÃ¡ficos e inputs.
âœ… Framer Motion â€“ Para efeitos de transiÃ§Ã£o e animaÃ§Ã£o.
âœ… Radix UI â€“ Para popovers, dropdowns e seleÃ§Ã£o de opÃ§Ãµes.
âœ… Zod â€“ Para validaÃ§Ã£o de entrada de dados.
âœ… Lucide-react â€“ Para Ã­cones e indicadores visuais.
âœ… Day.js â€“ Para manipulaÃ§Ã£o de datas e perÃ­odos.
âœ… Chart.js â€“ Para grÃ¡ficos de anÃ¡lise de custos e desperdÃ­cios.
âœ… Machine Learning Model â€“ Para anÃ¡lise de padrÃµes e sugestÃµes inteligentes.

ðŸ’¡ Como os Dados SÃ£o Relacionados
âœ… As sugestÃµes serÃ£o baseadas em:

HistÃ³rico de compras â†’ PÃ¡gina Pedidos (#09).
HistÃ³rico de vendas â†’ PÃ¡gina Registro de Vendas (#11).
Fichas tÃ©cnicas â†’ PÃ¡gina Ficha TÃ©cnica (#10).
Controle de estoque â†’ PÃ¡gina GestÃ£o de Estoque (#04).
VariaÃ§Ã£o de preÃ§os â†’ PÃ¡gina RelatÃ³rio de VariaÃ§Ã£o de PreÃ§os (#12.2).
âœ… A anÃ¡lise serÃ¡ realizada pelo sistema com base em:

DiferenÃ§a entre CMV Real e CMV TeÃ³rico.
DiferenÃ§a de preÃ§o de insumos entre fornecedores.
DiferenÃ§a entre preÃ§o de venda sugerido e preÃ§o de venda praticado.
Perda ou desperdÃ­cio nÃ£o contabilizado corretamente.
TendÃªncia de baixa margem de lucro ou prejuÃ­zo em determinados produtos.
âœ… O sistema sugerirÃ¡ aÃ§Ãµes em trÃªs nÃ­veis:

NÃ­vel 1 â€“ CorreÃ§Ãµes simples (ex.: troca de fornecedor, ajuste de preÃ§o de venda).
NÃ­vel 2 â€“ CorreÃ§Ãµes estruturais (ex.: revisÃ£o de ficha tÃ©cnica, ajuste de rendimento).
NÃ­vel 3 â€“ MudanÃ§a estratÃ©gica (ex.: retirada de produtos nÃ£o lucrativos).
Componentes Visuais e Estrutura
A pÃ¡gina serÃ¡ organizada em 4 seÃ§Ãµes principais:

ðŸ”¹ Primeira SeÃ§Ã£o: CabeÃ§alho da PÃ¡gina
TÃ­tulo: "SugestÃµes de ReduÃ§Ã£o de Custos"
Campo de Busca:
Permite buscar por produto, fornecedor ou categoria.
Busca em tempo real com debounce de 500ms.
Dropdown de Filtros:
Filtro por NÃ­vel de AÃ§Ã£o (NÃ­vel 1, 2 ou 3).
Filtro por Produto ou Combo.
Filtro por Categoria.
Filtro por Fornecedor.
BotÃ£o de ExportaÃ§Ã£o:
Exportar relatÃ³rio para Excel ou PDF.
ðŸ”¹ Segunda SeÃ§Ã£o: Resumo das SugestÃµes
âœ… EstatÃ­sticas resumidas do impacto das sugestÃµes para o perÃ­odo selecionado:

Indicador	Valor Atual	Valor com Ajustes	DiferenÃ§a (%)
CMV (%)	38%	35%	-3%
Margem MÃ©dia (%)	62%	65%	+3%
Economia Anual Projeta (R$)	R$ 22.500,00	R$ 25.000,00	+11%
ReduÃ§Ã£o de DesperdÃ­cio (%)	5%	3%	-2%
NÃºmero de SugestÃµes Ativas	12	-	-
âœ… Comportamento:

Se o sistema detectar um potencial de economia maior que 5% â†’ SugestÃ£o Ã© destacada em verde.
Se o sistema detectar que o CMV pode ser reduzido sem perda de qualidade â†’ SugestÃ£o Ã© destacada em azul.
Se o sistema detectar desperdÃ­cio oculto ou perda de insumo â†’ SugestÃ£o Ã© destacada em vermelho com alerta.
ðŸ”¹ Terceira SeÃ§Ã£o: GrÃ¡fico de Impacto das SugestÃµes
âœ… GrÃ¡fico de barras exibindo o impacto das sugestÃµes na economia projetada.
âœ… Permite alternar entre visualizaÃ§Ã£o por dia, semana e mÃªs.

âœ… Exemplo:

Se a troca de fornecedor de queijo muÃ§arela gerar economia de R$ 2.000,00/mÃªs â†’ Barra destacada em verde.
Se a retirada de um insumo da ficha tÃ©cnica reduzir o CMV em 1% â†’ Barra destacada em azul.
ðŸ”¹ Quarta SeÃ§Ã£o: Tabela de SugestÃµes Detalhadas
âœ… Exibida em formato de tabela expansÃ­vel.

âœ… Colunas:

Produto	SugestÃ£o	Economia Estimada (R$)	Impacto (%)	Status
Queijo MuÃ§arela	Trocar fornecedor (Fornecedor B)	R$ 2.000,00/mÃªs	-3% no CMV	Ativo
Presunto	Revisar ficha tÃ©cnica	R$ 1.500,00/mÃªs	-2% no CMV	Ativo
Molho Base	Aumentar rendimento para 90%	R$ 750,00/mÃªs	-1% no CMV	Ativo
âœ… Comportamento:

O usuÃ¡rio pode aceitar ou rejeitar cada sugestÃ£o.
O sistema automaticamente recalcula o impacto nas margens e no CMV apÃ³s cada decisÃ£o.
ðŸ“‹ Modal de Detalhamento de SugestÃµes
ðŸ‘‰ Aberto ao clicar em uma sugestÃ£o na tabela

âœ… Exibe detalhes completos da sugestÃ£o:

Insumo sugerido para troca.
Ficha tÃ©cnica sugerida para revisÃ£o.
Impacto direto sobre CMV e margem.
âœ… BotÃµes de AÃ§Ã£o:

Aceitar SugestÃ£o â†’ Ajusta ficha tÃ©cnica e recalcula CMV.
Rejeitar SugestÃ£o â†’ Ignora a sugestÃ£o e marca como resolvida.
âœ… ConclusÃ£o:
âœ… RelatÃ³rio estratÃ©gico de economia de custos.
âœ… SugestÃµes inteligentes com base em dados reais.
âœ… ReduÃ§Ã£o direta de CMV e melhora na margem de lucro.

A dÃ©cima terceira pÃ¡gina Ã© a pÃ¡gina de Programa de IndicaÃ§Ã£o #13. Essa pÃ¡gina deve gerar um cÃ³digo, prÃ³prio para cada usuÃ¡rio para que eles indiquem outros potenciais clientes. Deve aparecer tambÃ©m quais sÃ£o os nÃ­veis dos benefÃ­cio, quantos usuÃ¡rios eles jÃ¡ indicou, quantos usuÃ¡rios ainda estÃ£o ativos. Crie tambÃ©m mais elementos visuais.

PÃ¡gina 14 â€“ Planos
(CÃ³digo: #14)

Objetivo Principal
A pÃ¡gina de Planos permitirÃ¡ que o usuÃ¡rio:

âœ… Visualize os planos disponÃ­veis e os benefÃ­cios de cada um.
âœ… FaÃ§a upgrade para planos superiores com um clique.
âœ… Gerencie o ciclo de pagamento (mensal, trimestral ou anual).
âœ… Receba alertas sobre status de pagamento (prÃ³ximo vencimento, falha no pagamento).
âœ… Consulte o histÃ³rico de pagamentos e o valor total pago.
âœ… Permita downgrade ou cancelamento com opÃ§Ãµes de confirmaÃ§Ã£o.

Tecnologias e DependÃªncias NecessÃ¡rias:
âœ… Next.js â€“ Para renderizaÃ§Ã£o SSR e otimizaÃ§Ã£o de desempenho.
âœ… React Query â€“ Para busca e atualizaÃ§Ã£o de dados em tempo real.
âœ… Zustand â€“ Para gerenciamento de estado e cache dos dados de planos.
âœ… Tailwind CSS â€“ Para estilizaÃ§Ã£o rÃ¡pida e responsiva.
âœ… Shadcn UI â€“ Para construÃ§Ã£o de componentes como cartÃµes, tabelas, inputs e botÃµes.
âœ… Framer Motion â€“ Para efeitos de transiÃ§Ã£o e animaÃ§Ã£o.
âœ… Radix UI â€“ Para popovers, dropdowns e seleÃ§Ã£o de opÃ§Ãµes.
âœ… Zod â€“ Para validaÃ§Ã£o de entrada de dados.
âœ… Lucide-react â€“ Para Ã­cones e indicadores visuais.
âœ… Stripe â€“ Para processamento de pagamentos (cartÃ£o de crÃ©dito, boleto e Pix).
âœ… Day.js â€“ Para manipulaÃ§Ã£o de datas e ciclos de pagamento.
âœ… Email API â€“ Para envio de notificaÃ§Ãµes de pagamento e status do plano.

ðŸ’¡ Como os Dados SÃ£o Relacionados
âœ… Os planos estarÃ£o cadastrados em uma tabela no banco de dados com as seguintes informaÃ§Ãµes:

Nome do plano.
PreÃ§o mensal, trimestral e anual.
BenefÃ­cios incluÃ­dos.
Limite de transaÃ§Ãµes, produtos e fornecedores.
âœ… Quando o usuÃ¡rio selecionar um plano â†’ O sistema enviarÃ¡ os dados de pagamento para o Stripe â†’ ApÃ³s confirmaÃ§Ã£o â†’ O plano Ã© ativado automaticamente.
âœ… O status do plano serÃ¡ atualizado automaticamente e exibido na pÃ¡gina de ConfiguraÃ§Ãµes (#15).
âœ… Caso o pagamento falhe â†’ O sistema exibirÃ¡ um alerta e permitirÃ¡ a tentativa de pagamento novamente.
âœ… O sistema permitirÃ¡ upgrade ou downgrade automÃ¡tico, com ajuste proporcional no valor do ciclo de pagamento.
Componentes Visuais e Estrutura
A pÃ¡gina serÃ¡ organizada em 4 seÃ§Ãµes principais:

ðŸ”¹ Primeira SeÃ§Ã£o: CabeÃ§alho da PÃ¡gina
TÃ­tulo: "Planos e Assinaturas"
Dropdown de Filtros:
Filtro por PerÃ­odo (mensal, trimestral, anual).
Filtro por Status (ativo, pendente, cancelado).
Filtro por BenefÃ­cio (exemplo: "Acesso ao Clube Reduzo").
BotÃ£o de HistÃ³rico de Pagamento:
Abre um modal com o histÃ³rico completo de pagamentos.
BotÃ£o de ExportaÃ§Ã£o:
Exportar para Excel ou PDF.
ðŸ”¹ Segunda SeÃ§Ã£o: Plano Ativo
âœ… Exibe um card destacado com o plano atual do usuÃ¡rio:

âœ… Campos exibidos:

Nome do plano.
Valor mensal/trimestral/anual (exemplo: "R$ 199,00/mÃªs").
Data de renovaÃ§Ã£o (exemplo: "RenovaÃ§Ã£o em 30 de marÃ§o de 2025").
BenefÃ­cios ativos (exemplo: "Acesso ao Clube Reduzo", "Consultoria mensal", etc.).
BotÃ£o "Alterar Ciclo de Pagamento" â†’ Abre um modal para o usuÃ¡rio definir se deseja pagar mensal, trimestral ou anualmente.
BotÃ£o "Cancelar Assinatura" â†’ DisponÃ­vel apenas se o plano estiver ativo.
âœ… Comportamento:

Se o usuÃ¡rio cancelar â†’ Plano permanecerÃ¡ ativo atÃ© o fim do ciclo de pagamento.
Se o pagamento falhar â†’ O sistema exibirÃ¡ um alerta e permitirÃ¡ nova tentativa.
Se o usuÃ¡rio alterar o ciclo de pagamento â†’ O sistema recalcularÃ¡ automaticamente o valor proporcional.
ðŸ”¹ Terceira SeÃ§Ã£o: Tabela Comparativa de Planos
âœ… Exibida em formato de grade comparativa com trÃªs colunas (uma para cada plano):

âœ… Exemplo de Planos:

Plano	Mensal (R$)	Trimestral (R$)	Anual (R$)	BenefÃ­cios
Plano BÃ¡sico	R$ 99,00	R$ 279,00	R$ 999,00	- AtÃ© 10 fornecedores
- AtÃ© 50 produtos
- Sem acesso ao Clube Reduzo
Plano Pro	R$ 199,00	R$ 549,00	R$ 1.999,00	- AtÃ© 50 fornecedores
- AtÃ© 500 produtos
- Acesso ao Clube Reduzo
Plano Empresarial	R$ 299,00	R$ 849,00	R$ 2.999,00	- Fornecedores ilimitados
- Produtos ilimitados
- Consultoria mensal gratuita
- Suporte prioritÃ¡rio
âœ… Destaques Visuais:

O plano atual serÃ¡ destacado com uma borda em verde.
BenefÃ­cios exclusivos serÃ£o destacados com um Ã­cone de coroa.
Planos disponÃ­veis para upgrade terÃ£o o botÃ£o "Upgrade" disponÃ­vel.
Se o usuÃ¡rio jÃ¡ estiver no plano mais alto â†’ BotÃ£o de upgrade ficarÃ¡ desativado.
âœ… Comportamento:

Se o usuÃ¡rio clicar em "Upgrade" â†’ Abre um modal de confirmaÃ§Ã£o com o valor proporcional a ser cobrado.
Se o usuÃ¡rio clicar em "Downgrade" â†’ Abre um modal de confirmaÃ§Ã£o explicando o que serÃ¡ perdido.
ðŸ”¹ Quarta SeÃ§Ã£o: Modal de ConfirmaÃ§Ã£o de Pagamento
ðŸ‘‰ Aberto ao clicar em "Upgrade" ou "Alterar Ciclo de Pagamento"

âœ… Campos:

Nome do plano selecionado.
Valor proporcional (se for um upgrade/downgrade).
Forma de pagamento (cartÃ£o de crÃ©dito, boleto ou Pix).
Data de inÃ­cio do novo ciclo.
âœ… Comportamento:

Se o usuÃ¡rio confirmar o pagamento â†’ O sistema ativa o plano imediatamente.
Se o pagamento falhar â†’ O sistema exibirÃ¡ um alerta e permitirÃ¡ nova tentativa.
Se o plano for um downgrade â†’ O plano permanecerÃ¡ ativo atÃ© o fim do ciclo atual antes de aplicar o novo plano.
ðŸ”¹ Quinta SeÃ§Ã£o: HistÃ³rico de Pagamento
âœ… Exibida em formato de tabela expansÃ­vel com:

Data	Valor Pago (R$)	Forma de Pagamento	Status
2025-01-01	R$ 199,00	CartÃ£o de CrÃ©dito	Pago
2024-12-01	R$ 199,00	CartÃ£o de CrÃ©dito	Pago
2024-11-01	R$ 199,00	CartÃ£o de CrÃ©dito	Falha
âœ… Comportamento:

Permite filtrar por perÃ­odo e status.
Se o pagamento falhar â†’ Aparece botÃ£o para tentar novamente.
âœ… ConclusÃ£o:
âœ… Sistema de planos robusto e automatizado.
âœ… Incentivo direto para migraÃ§Ã£o para planos superiores.
âœ… Controle detalhado de pagamento e benefÃ­cios.

A dÃ©cima quinta pÃ¡gina Ã© a de ConfiguraÃ§Ãµes #15. Essa pÃ¡gina o usuÃ¡rio poderÃ¡ configurar toda a plataforma, seus dados pessoais, etc.


PÃ¡gina 16 â€“ Ajuda
(CÃ³digo: #16)

Objetivo Principal
A pÃ¡gina de Ajuda permitirÃ¡ que o usuÃ¡rio:

âœ… Resolva problemas de forma autÃ´noma com artigos detalhados.
âœ… Consulte o status da plataforma para verificar se hÃ¡ algum problema tÃ©cnico em andamento.
âœ… Fale diretamente com o suporte tÃ©cnico via chat, WhatsApp ou email.
âœ… Abra e gerencie tickets de suporte para acompanhamento detalhado.
âœ… Assista a tutoriais para entender melhor as funcionalidades da plataforma.

Tecnologias e DependÃªncias NecessÃ¡rias:
âœ… Next.js â€“ Para renderizaÃ§Ã£o SSR e otimizaÃ§Ã£o de desempenho.
âœ… React Query â€“ Para busca e atualizaÃ§Ã£o de dados em tempo real.
âœ… Zustand â€“ Para gerenciamento de estado e cache das informaÃ§Ãµes de suporte.
âœ… Tailwind CSS â€“ Para estilizaÃ§Ã£o rÃ¡pida e responsiva.
âœ… Shadcn UI â€“ Para construÃ§Ã£o de componentes como listas, inputs e modais.
âœ… Framer Motion â€“ Para efeitos de transiÃ§Ã£o e animaÃ§Ã£o.
âœ… Radix UI â€“ Para popovers, dropdowns e seleÃ§Ã£o de opÃ§Ãµes.
âœ… Zod â€“ Para validaÃ§Ã£o de entrada de dados.
âœ… Lucide-react â€“ Para Ã­cones e indicadores visuais.
âœ… Firebase â€“ Para gerenciamento de autenticaÃ§Ã£o e abertura de tickets.
âœ… WhatsApp API â€“ Para ativaÃ§Ã£o de suporte via WhatsApp.
âœ… SMTP â€“ Para envio de notificaÃ§Ãµes de tickets por email.
âœ… Lottie â€“ Para exibiÃ§Ã£o de animaÃ§Ãµes nos tutoriais e alertas visuais.
âœ… YouTube API â€“ Para exibiÃ§Ã£o de tutoriais diretamente na interface.

ðŸ’¡ Como os Dados SÃ£o Relacionados
âœ… Os artigos de ajuda serÃ£o cadastrados em uma tabela especÃ­fica no banco de dados com as seguintes informaÃ§Ãµes:

TÃ­tulo
DescriÃ§Ã£o curta
ConteÃºdo detalhado (em HTML formatado)
Tags de busca
Data de publicaÃ§Ã£o
Categoria (exemplo: "ConfiguraÃ§Ã£o", "Pedidos", "CMV", "RelatÃ³rios")
âœ… Os tickets de suporte serÃ£o armazenados em uma tabela separada, contendo:
ID do ticket
Status do ticket (Aberto, Em AnÃ¡lise, Resolvido)
HistÃ³rico de comunicaÃ§Ã£o
âœ… O sistema deve exibir notificaÃ§Ãµes sobre incidentes em andamento diretamente na interface de ajuda.
âœ… Os tutoriais em vÃ­deo serÃ£o vinculados via YouTube API â†’ O sistema carregarÃ¡ dinamicamente os vÃ­deos com base nas tags e categorias associadas.
Componentes Visuais e Estrutura
A pÃ¡gina serÃ¡ organizada em 5 seÃ§Ãµes principais:

ðŸ”¹ Primeira SeÃ§Ã£o: CabeÃ§alho da PÃ¡gina
TÃ­tulo: "Central de Ajuda"
Campo de Busca:
Permite buscar por tÃ­tulo, palavra-chave ou categoria.
Busca em tempo real com debounce de 500ms.
Dropdown de Filtros:
Filtro por Categoria (Pedidos, Fichas TÃ©cnicas, Estoque, ConfiguraÃ§Ãµes, etc.).
Filtro por Status (Aberto, Resolvido, Em AnÃ¡lise).
BotÃ£o "Abrir Novo Ticket":
Abre um modal para o usuÃ¡rio detalhar o problema.
ðŸ”¹ Segunda SeÃ§Ã£o: Lista de Artigos de Ajuda
âœ… Exibe uma lista de artigos disponÃ­veis para consulta rÃ¡pida:

âœ… Exemplo de Formato:

TÃ­tulo	Categoria	Data	VisualizaÃ§Ãµes	Status
Como cadastrar um fornecedor	Fornecedores	2025-03-14	1.245	Ativo
Como criar uma ficha tÃ©cnica	Fichas TÃ©cnicas	2025-03-12	867	Ativo
Como fazer uma projeÃ§Ã£o de demanda	RelatÃ³rios	2025-03-10	525	Ativo
âœ… Comportamento:

Se o usuÃ¡rio clicar em um artigo â†’ O artigo se abrirÃ¡ em uma pÃ¡gina de detalhe.
Os artigos mais populares (com mais visualizaÃ§Ãµes) aparecerÃ£o primeiro na lista.
Os artigos resolvidos recentemente terÃ£o um Ã­cone de "check".
Se o artigo resolver o problema â†’ O usuÃ¡rio poderÃ¡ marcar como "Resolvido".
ðŸ”¹ Terceira SeÃ§Ã£o: Status da Plataforma
âœ… Exibe status de funcionamento em tempo real:

âœ… Plataforma funcional â†’ Status em verde.
âš ï¸ ManutenÃ§Ã£o em andamento â†’ Status em amarelo.
âŒ Instabilidade detectada â†’ Status em vermelho.
âœ… Detalhes exibidos:

Tipo de incidente.
Tempo estimado para resoluÃ§Ã£o.
Link para detalhes tÃ©cnicos (se disponÃ­vel).
âœ… Comportamento:

Se a plataforma estiver instÃ¡vel â†’ Exibe um botÃ£o para abrir um ticket diretamente relacionado ao problema.
Se a plataforma estiver em manutenÃ§Ã£o â†’ Exibe um cronÃ´metro regressivo atÃ© a resoluÃ§Ã£o.
ðŸ”¹ Quarta SeÃ§Ã£o: Tutoriais em VÃ­deo
âœ… Exibe uma galeria de vÃ­deos organizados por categoria:

Fornecedores
Insumos
Estoque
Pedidos
RelatÃ³rios
âœ… Comportamento:

O vÃ­deo Ã© carregado diretamente da YouTube API.
O usuÃ¡rio pode assistir em tela cheia sem sair da plataforma.
Os vÃ­deos com mais visualizaÃ§Ãµes aparecerÃ£o primeiro.
ðŸ”¹ Quinta SeÃ§Ã£o: Tickets de Suporte
âœ… Exibe o histÃ³rico completo de tickets do usuÃ¡rio:

âœ… Exemplo de Formato:

ID do Ticket	TÃ­tulo	Data	Status	AÃ§Ã£o
#1024	Problema com cadastro de fornecedor	2025-03-14	Aberto	Ver detalhes
#1023	Problema com estoque	2025-03-12	Resolvido	Ver detalhes
#1022	Problema com login	2025-03-10	Em anÃ¡lise	Ver detalhes
âœ… Comportamento:

Se o usuÃ¡rio clicar em um ticket â†’ Abre um modal com o histÃ³rico completo de comunicaÃ§Ã£o.
Se o ticket estiver aberto â†’ O usuÃ¡rio pode inserir novas informaÃ§Ãµes e responder diretamente.
Se o ticket estiver resolvido â†’ O usuÃ¡rio pode reabrir o ticket se o problema persistir.
ðŸ“‹ Modal de Abertura de Ticket
ðŸ‘‰ Aberto ao clicar em "Abrir Novo Ticket"

âœ… Campos:

TÃ­tulo
DescriÃ§Ã£o detalhada
Categoria
Prioridade (Alta, MÃ©dia, Baixa)
âœ… Comportamento:

ApÃ³s abrir o ticket â†’ O sistema envia um email de confirmaÃ§Ã£o.
O sistema atribuirÃ¡ automaticamente o ticket a um atendente de suporte.
âœ… ConclusÃ£o:
âœ… PÃ¡gina completa para suporte e ajuda tÃ©cnica.
âœ… Sistema de tickets integrado para controle de problemas.
âœ… Tutoriais em vÃ­deo para autoatendimento.
âœ… Status da plataforma exibido em tempo real.